<!DOCTYPE html><html lang="pt-BR" dir="ltr"><head><meta charset="utf-8"><title>Laravel Valet: Agilidade no seu ambiente local – Rafaell Lycan</title><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"> <meta name="apple-mobile-web-app-capable" content="yes"><link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <meta name="description" content="Entenda como obter agilidade em um ambiente de desenvolvimento minimalista com essa alternativa ao Homestead mesmo se você não esta utilizando Laravel. "><meta name="keywords" content="laravel valet, valet, laravel environment, homestead alternative"><meta name="author" content="Rafaell Lycan - https://rafaell-lycan.com"/><meta name="reply-to" content="sonny.webdsg@gmail"/><link rel="canonical" href="https://rafaell-lycan.com/2016/utilizando-laravel-valet/"><link rel="alternate" type="application/rss+xml" href="https://feeds.feedburner.com/rafaell-lycan" title="Rafaell Lycan RSS Feed"><link rel="dns-prefetch" href="//google-analytics.com"><link rel="dns-prefetch" href="//www.google-analytics.com"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel='dns-prefetch' href='//s2.getsmartlook.com'><link rel='dns-prefetch' href='//rec.getsmartlook.com'><link rel="preconnect" href="//google-analytics.com" crossorigin /><link rel="preconnect" href="//www.google-analytics.com" crossorigin /><link rel="preconnect" href="//fonts.googleapis.com" crossorigin /><link rel='preconnect' href='//s2.getsmartlook.com' crossorigin><link rel='preconnect' href='//rec.getsmartlook.com' crossorigin> <meta name="google-site-verification" content="x08xUXYXTQWjHPyl9M_w5VIF07UWLSi0XUTxxCSS7rQ" /><meta name="robots" content="index, follow"><meta name="HandheldFriendly" content="True" /><meta name="MobileOptimized" content="320" /><meta name="mobile-web-app-capable" content="yes"><link rel="manifest" href="/manifest.json"><link rel="icon" sizes="192x192" href="/assets/img/icon-192x192.png"><link rel="icon" sizes="144x144" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon" sizes="128x128" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="128x128" href="/assets/img/icon-144x144.png"> <meta property="og:locale" content="pt_BR"><meta property="og:type" content=" article "><meta property="og:title" content="Laravel Valet: Agilidade no seu ambiente local – Rafaell Lycan"><meta property="og:url" content="https://rafaell-lycan.com/2016/utilizando-laravel-valet/"><meta property="og:image" content=""><meta property="og:description" content="Entenda como obter agilidade em um ambiente de desenvolvimento minimalista com essa alternativa ao Homestead mesmo se você não esta utilizando Laravel. "><meta property="og:site_name" content="Hi there, I'm Rafaell"><meta property="article:publisher" content="https://www.facebook.com/rafaell.lycan"> <meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://rafaell-lycan.com/2016/utilizando-laravel-valet/"><meta name="twitter:title" content="Laravel Valet: Agilidade no seu ambiente local – Rafaell Lycan"><meta name="twitter:image" content=""><meta name="twitter:description" content="Entenda como obter agilidade em um ambiente de desenvolvimento minimalista com essa alternativa ao Homestead mesmo se você não esta utilizando Laravel. "><meta name="twitter:creator" content="@RafaellLycan"><meta property="twitter:account_id" content="50549691"> <script type="text/javascript"> if (window.location.hostname !== 'localhost') { window.smartlook||(function(d) { var o=smartlook=function(){ o.api.push(arguments)},s=d.getElementsByTagName('script')[0]; var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript'; c.charset='utf-8';c.src='//rec.getsmartlook.com/bundle.js';s.parentNode.insertBefore(c,s); })(document); smartlook('init', '71b434ed5cffc14b8ccad3c50573871bcb972ef9'); } </script><link rel="stylesheet" href="/assets/css/style.css" media="all"></head><body><main class="wrap"><header class="header"><div class="container"><div class="author"> <a href="/"> <img src="/assets/img/rafaell-lycan.jpg" alt="Rafaell Lycan profile picture" title="Back to home" class="author__avatar"> </a></div><nav class="menu-list menu-list--inline"><ul class="default-list"><li class="menu-list__item"><a href="/about">About me</a></li><li class="menu-list__item"><a href="/">Blog</a></li> </ul></nav></div></header><article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting"><header class="blog-post__header"><h1 class="blog-post__title" itemprop="headline">Laravel Valet: Agilidade no seu ambiente local</h1><div class="blog-post__meta"> <span>This post is filed under</span> <a class="h6 post-tag" href="/tags#laravel">laravel</a>, <a class="h6 post-tag" href="/tags#tools">tools</a> <span> • Published</span> <time class="h6" datetime="2016-06-11T00:00:00+02:00" itemprop="datePublished">11 Jun 2016</time> <span> • Reading time 7 min </span></div><p class="hidden" itemprop="keywords">laravel valet, valet, laravel environment, homestead alternative</p></header><div class="blog-post__content"><p>Se você esta familiarizado com a comunidade PHP, provavelmente você deve estar familiarizado com o grande número de framework populares nesse meio hoje. Um dos mais falados da atualidade é o <a href="https://laravel.com/">Laravel</a>.</p><p>Recentemente (6 de Maio), <a href="https://twitter.com/taylorotwell">@taylorotwell</a> (criador do Laravel) lançou algo chamado <a href="https://laravel.com/docs/5.2/valet">Valet</a> (ou mais especifico “Laravel Valet”), que visa fazer o seguinte:</p><blockquote><p>“Valet is a Laravel development environment for Mac minimalists. No Vagrant, No Apache, No Nginx, No /etc/hosts file. You can even share your sites publicly using local tunnels. Yeah, we like it too.”</p></blockquote><p>Aparentemente foda não é mesmo?</p><p>O mais legal é que o Taylor disse em poucas palavras que a motivação foi:</p><blockquote><p>“I wanted to have the convenience of <code class="highlighter-rouge">php artisan serve</code> without ever having to run <code class="highlighter-rouge">php artisan serve</code>”</p></blockquote><p>Veja um comercial criado por <a href="https://twitter.com/adamwathan">@adamwathan</a> mostrando como Valet funciona. Vale a pena assistir, tem algumas partes bem divertidas em que ele solta alguns palavrões (som de bips).</p><div class="center"> <iframe width="640" height="400" src="https://www.youtube.com/embed/H3Z4Gk9Wc0s?rel=0" frameborder="0" allowfullscreen=""></iframe></div><p>Eu particularmente fiquei alguns meses longe da comunidade Laravel e não consegui postar antes, porem isso foi bom por conta das melhorias e tudo mais o que rolou para as versões seguintes.</p><h2 id="mas-já-mudou">Mas já mudou?</h2><p>Inicialmente, Valet utilizava um mini servidor HTTP através do <a href="https://en.wikipedia.org/wiki/Dnsmasq">DnsMasq</a> para processar as requisições para o domínio <code class="highlighter-rouge">.dev</code> em seu ambiente local. Bem, na versão 1.1.0 que foi lançada alguns dias depois, eles colocaram o <a href="https://caddyserver.com/">Caddy</a> como servidor que possibilitou melhorias significativas e também permitiu ter multiplus apps utiizando Valet sem bloquear o servidor.</p><p>Se você já instalou e não gostou, ou mesmo se você esta feliz com a versão anterior, atualiza ai:</p><figure class="highlight"><pre><code class="language-php" data-lang="php">composer global update</code></pre></figure><p>Depois disso execute o comando <code class="highlighter-rouge">valet install</code> para criar um novo arquivo do <strong>Caddy</strong> (Caddy daemon) no seu sistema.</p><h2 id="suporte">Suporte</h2><p>Bem, este é o ponto que eu quero tocar e espero que você que é desenvolvedor PHP (até mesmo os xiitas) entendam meu ponto.</p><p>Eu sou desenvolvedor PHP a pouco mais de 2 anos. Passei do estruturado ao pseudo OO, CodeIgniter, Zend/Magento e outras drogas.</p><p>Quando eu li sobre o Valet, uma das coisas que mais me tocou na sua <a href="https://laravel.com/docs/5.2/valet">documentaçao</a> foi que ele instala o mínimo possível em seu ambiente OSX (preciso atualizar meu dotfiles), é rápido e tem <strong>suporta diversos frameworks</strong>:</p><ul><li>Laravel</li><li>Lumen</li><li>Symfony</li><li>Zend</li><li>CakePHP 3</li><li>WordPress</li><li>Craft</li><li>Statamic</li><li>Jigsaw</li><li>Static HTML</li></ul><p>Sejamos sinceros, é muito foda isso, inclusive já testei com WordPress e Symfony e rodou lindamente.</p><p>Então, você não precisa desenvolver especificamente no Laravel para ter um bom ambiente de desenvolvimento.</p><h4 id="osx-only">OSX Only</h4><p>Sim, por hora o suporte esta disponível apenas para OSX, e sim essa é a maior reclamação daqueles que descobrem e entendem o Valet.</p><p>Embora seja possível faze-lo funcionar no Linux por conta da arquitetura que ambos os sistemas tem e o suporte a versões mais antigas do PHP. Windows provavelmente nunca sera uma opção ao Valet, mas isso quem irá dizer é o tempo.</p><p>Não, não é uma conspiração voltada a usuários apple, o lance é, com o gerenciador de pacotes do OSX (<a href="http://brew.sh/">Homebrew</a>), fica muito fácil desenvolver projetos por conta da variedade de pacotes e outros padrões pré-instalados.</p><h2 id="setup">Setup</h2><p>Para instalar o Laravel Valet é bem simples na verdade, basta você ter um Mac e algumas ferramentas instaladas.</p><h4 id="requisitos">Requisitos</h4><ul><li>Sistema Operacional Mac;</li><li><a href="http://brew.sh/">Homebrew</a>;</li><li>Não ter nenhuma programa utilizando a sua porta :80 como o Apache ou Nginx.</li></ul><h4 id="1-instalando-o-homebrew">1. Instalando o Homebrew</h4><p>Bom para que não sabe o <a href="http://brew.sh/">Homebrew</a> é o gerenciador de pacotes do OSX, e sem dúvidas é a forma mais fácil de instalar pacotes no sistema. Para instalar, basta rodar o comando abaixo em no terminal:</p><figure class="highlight"><pre><code class="language-php" data-lang="php">/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</code></pre></figure><p>Se você receber algum tipo de erro durante a instalação, verifique se você já possui o <strong>Xcode Command Line Tools</strong>.</p><h4 id="2-atualizando-o-homebrew">2. Atualizando o Homebrew</h4><p>Caso você já utilize o Homebrew, sempre é uma boa opção atualiza-lo através do comando <code class="highlighter-rouge">brew update</code>;</p><figure class="highlight"><pre><code class="language-php" data-lang="php">brew update</code></pre></figure><p>Aproveite também para verificar se todos os serviços estão funcionando através do comando <code class="highlighter-rouge">brew services list</code>;</p><figure class="highlight"><pre><code class="language-php" data-lang="php">brew services list</code></pre></figure><h4 id="3-instalando-o-php-70">3. Instalando o PHP 7.0</h4><p>Sim, nós vamos utilizar o PHP 7 com o Valet. Caso você pense que isso pode ser um problema, basta apenas verificar se a sua aplicação rode em versões anteriores, como por exemplo o WordPress que a <strong>versão mínima é o 5.2.4</strong>. O legal de se utilizar o PHP 7 é que podemos utilizar coisas novas em nosso sistema, mas se você não encherga a necessidade disso e seu desenvolvimento é focado em um ambiente de produção com versões anteriores pode prosseguir com o desenvolvimento normalmente.</p><p>Para instalarmos o PHP 7 via <strong>brew</strong>, utilize o comando: <code class="highlighter-rouge">brew install php70</code>;</p><figure class="highlight"><pre><code class="language-php" data-lang="php">brew install php70</code></pre></figure><h4 id="4-instalando-o-valet">4. Instalando o Valet</h4><p>Agora vamos instalar o Valet, e para fazer isso você precisa ter o <a href="https://getcomposer.org/">Composer</a> instalado na sua maquina globalmente. Veja na <a href="https://getcomposer.org/doc/00-intro.md">documentação oficinal</a> como faze-lo.</p><p>Verifique se você tem o Composer instalado globalmente no seu PATH (Se você trabalha a algum tempo com PHP você provavelmente já tem), caso contrário adicione ao seu <code class="highlighter-rouge">.bash_profile</code> a seguinte linha:</p><figure class="highlight"><pre><code class="language-php" data-lang="php">export PATH="$PATH:$HOME/.composer/vendor/bin"</code></pre></figure><p>Feito isso, execute no terminal o comando: <code class="highlighter-rouge">composer global require laravel/valet</code>;</p><figure class="highlight"><pre><code class="language-php" data-lang="php">composer global require laravel/valet</code></pre></figure><p>Até este ponto nós apenas adicionamos as dependências necessárias e precisamos instalar de fato o Valet, e para faze-lo, basta rodar o comando: <code class="highlighter-rouge">valet install</code>;</p><figure class="highlight"><pre><code class="language-php" data-lang="php">valet install</code></pre></figure><p><strong>Pronto.</strong>, veja um fragmento interessante da documentação:</p><blockquote><p>“Valet will automatically start its daemon each time your machine boots. There is no need to run <code class="highlighter-rouge">valet start</code> or <code class="highlighter-rouge">valet install</code> ever again once the initial Valet installation is complete.”</p></blockquote><h4 id="5-comandos">5. Comandos</h4><p>Uma vez que o Valet esta instalado, você tem tudo necessário para testar seus sites, mas antes disso você precisa saber os comandos básicos que ele possui, nesse caso vamos começar pelos 2 mais básicos:</p><ul><li><code class="highlighter-rouge">park</code>: Adiciona um diretório inteiro ao Valet;</li><li><code class="highlighter-rouge">link</code>: Cria uma link simbólico de um único site para o Valet.</li></ul><p>Eu particularmente utilizo o <code class="highlighter-rouge">park</code> no diretório <code class="highlighter-rouge">~/Sites</code> no meu usuário, e cada pasta vira um projeto Valet a ser executado. Por exemplo se eu executar dentro do diretório o comando <code class="highlighter-rouge">laravel new blog</code> eu posso simplesmente abrir meu navegador e acessar <code class="highlighter-rouge">http://blog.dev</code> e a tela de boas vindas do Laravel vai aparecer.</p><p>Se você quiser utilizar um folder que esta em outro lugar no seu sistema, o comando <code class="highlighter-rouge">link</code> pode ser mais interessante. Se eu estiver por exemplo na minha pasta <code class="highlighter-rouge">~/Downloads</code> e rodar o comando <code class="highlighter-rouge">valet link minha-app</code>, isso irá criar um link simbólico dentro para o meu diretório Valet e também vai me permitir abrir no meu navegador <code class="highlighter-rouge">http://minha-app.dev</code>.</p><p>Para verificar todos os links criados você pode utilizar o comando <code class="highlighter-rouge">valet links</code> e caso não esteja mais utilizando algum deles ou o folder não exista mais utilize <code class="highlighter-rouge">valet unlink nome-da-app</code>.</p><p>Uma outra coisa interessante é que você pode compartilhar a URL da sua aplicação com outras pessoas através do comando <code class="highlighter-rouge">share</code>, para isso basta acessar a pasta do seu projeto (ex: <code class="highlighter-rouge">~/Sites/blog</code>) e executar <code class="highlighter-rouge">valet share</code>. Isso vai exibir a URL pública que pode ser vista em qualquer navegador (é bem similar ao <a href="https://www.browsersync.io/">BrowserSync</a>).</p><p>Existem outros comandos que você pode visualizar através do comando <code class="highlighter-rouge">valet --help</code>.</p><p>Existem uma série de comandos úteis como <code class="highlighter-rouge">logs</code> que eu acho muito útil quando estou utilizando o Laravel, <code class="highlighter-rouge">start</code>, <code class="highlighter-rouge">stop</code>, <code class="highlighter-rouge">restart</code> e muitos outros.</p><h2 id="conclusão">Conclusão</h2><p>É claro que eu ainda preciso utilizar muito mais o Valet, além disso ele possui <strong>algumas PR’s</strong> com supostas melhorias, e por ser novo é bem provavel que seja reportado um problema ou outro.</p><p>É bem provavel que em posts futuros eu mostre o setup de alguma aplicação utilizando a ferramenta.</p><p>Dúvidas, críticas e sugestões relacionadas ao post serão muito bem vindas.</p></div><section class="share"><h3>Share this post</h3><ul class="social-list"><li class="social-list__item facebook hint--bottom" data-hint="Share on Facebook"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://rafaell-lycan.com/2016/utilizando-laravel-valet/" target="share"> <span class="social-list__text">Like</span> </a></li><li class="social-list__item twitter hint--bottom" data-hint="Share on Twitter"> <a href="https://twitter.com/share?text=Laravel Valet: Agilidade no seu ambiente local&amp;url=https://rafaell-lycan.com/2016/utilizando-laravel-valet/" target="share"> <span class="social-list__text">Tweet</span> </a></li><li class="social-list__item gplus hint--bottom" data-hint="Share on Google Plus"> <a href="https://plus.google.com/share?url=https://rafaell-lycan.com/2016/utilizando-laravel-valet/" target="share"> <span class="social-list__text">+1</span> </a></li></ul></section><section class="related"><h3 class="related__title">Referências</h3><ul class="default-list"><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://laravel.com/docs/5.2/valet" title="Laravel Valet" target="_blank"> <span itemprop="name">Laravel Valet</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://laravel-news.com/2016/05/announcing-laravel-valet/" title="Announcing Laravel Valet (Post)" target="_blank"> <span itemprop="name">Announcing Laravel Valet (Post)</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://www.sitepoint.com/what-is-laravel-valet-and-why-all-the-fuss/" title="What Is Laravel Valet, and Why All the Fuss?" target="_blank"> <span itemprop="name">What Is Laravel Valet, and Why All the Fuss?</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://github.com/thecodersguild/quick-start-using-homebrew-on-mac-os-x" title="Quick Start Using Homebrew on Mac OS X" target="_blank"> <span itemprop="name">Quick Start Using Homebrew on Mac OS X</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://www.youtube.com/watch?v=Ai-HogVDxq4" title="Local WordPress Development With Laravel Valet" target="_blank"> <span itemprop="name">Local WordPress Development With Laravel Valet</span> </a></li></ul></section><div class="comments"><div id="disqus_thread"></div></div><script> if (window.location.hostname !== 'localhost') { var disqus_shortname = 'rafaelllycan'; var disqus_identifier = '/2016/utilizando-laravel-valet'; var disqus_config = function () { this.page.url = 'https://rafaell-lycan.com/2016/utilizando-laravel-valet/'; this.page.identifier = '/2016/utilizando-laravel-valet'; }; (function() { var d = document, s = d.createElement('script'); s.src = '//' + disqus_shortname + '.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); s.async = true; (d.head || d.body).appendChild(s); })(); } </script></article><footer class="footer"><p> Made with <a href="https://jekyllrb.com/" target="_blank" class=" externalLink">Jekyll</a> and <span class="love">♥</span> by Rafaell Lycan.</p></footer></main><script async src="/assets/js/main.min.js"></script>  <script> !function(v,i,n,k,l,a){v.GoogleAnalyticsObject=n;v[n]||(v[n]=function(){ (v[n].q=v[n].q||[]).push(arguments)});v[n].l=+new Date;l=i.createElement(k); a=i.getElementsByTagName(k)[0];l.src='https://google-analytics.com/analytics.js'; a.parentNode.insertBefore(l,a)}(window,document,'ga','script'); ga('create', 'UA-16383035-5', 'auto'); ga('require', 'displayfeatures'); ga('send', 'pageview'); </script></body></html>
