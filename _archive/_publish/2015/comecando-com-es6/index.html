<!DOCTYPE html><html lang="pt-BR" dir="ltr"><head><meta charset="utf-8"><title>Começando com ES6 – Rafaell Lycan</title><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"> <meta name="apple-mobile-web-app-capable" content="yes"><link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <meta name="description" content="Sinceramente estou ouvindo falar sobre ES6/ECMAScript 2015 a um bom tempo, mas nunca tinha parado para estudar mais a fundo. Sim isso realmente é novo mas não é o futuro, é o agora! "><meta name="keywords" content="desenvolvedor, front end, back end, developer, php, javascript, node, laravel, angular, react, software"><meta name="author" content="Rafaell Lycan - https://rafaell-lycan.com"/><meta name="reply-to" content="sonny.webdsg@gmail"/><link rel="canonical" href="https://rafaell-lycan.com/2015/comecando-com-es6/"><link rel="alternate" type="application/rss+xml" href="https://feeds.feedburner.com/rafaell-lycan" title="Rafaell Lycan RSS Feed"><link rel="dns-prefetch" href="//google-analytics.com"><link rel="dns-prefetch" href="//www.google-analytics.com"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel='dns-prefetch' href='//s2.getsmartlook.com'><link rel='dns-prefetch' href='//rec.getsmartlook.com'><link rel="preconnect" href="//google-analytics.com" crossorigin /><link rel="preconnect" href="//www.google-analytics.com" crossorigin /><link rel="preconnect" href="//fonts.googleapis.com" crossorigin /><link rel='preconnect' href='//s2.getsmartlook.com' crossorigin><link rel='preconnect' href='//rec.getsmartlook.com' crossorigin> <meta name="google-site-verification" content="x08xUXYXTQWjHPyl9M_w5VIF07UWLSi0XUTxxCSS7rQ" /><meta name="robots" content="index, follow"><meta name="HandheldFriendly" content="True" /><meta name="MobileOptimized" content="320" /><meta name="mobile-web-app-capable" content="yes"><link rel="manifest" href="/manifest.json"><link rel="icon" sizes="192x192" href="/assets/img/icon-192x192.png"><link rel="icon" sizes="144x144" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon" sizes="128x128" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="128x128" href="/assets/img/icon-144x144.png"> <meta property="og:locale" content="pt_BR"><meta property="og:type" content=" article "><meta property="og:title" content="Começando com ES6 – Rafaell Lycan"><meta property="og:url" content="https://rafaell-lycan.com/2015/comecando-com-es6/"><meta property="og:image" content="https://rafaell-lycan.com/assets/img/posts/comecando-com-es6.jpg"><meta property="og:description" content="Sinceramente estou ouvindo falar sobre ES6/ECMAScript 2015 a um bom tempo, mas nunca tinha parado para estudar mais a fundo. Sim isso realmente é novo mas não é o futuro, é o agora! "><meta property="og:site_name" content="Hi there, I'm Rafaell"><meta property="article:publisher" content="https://www.facebook.com/rafaell.lycan"> <meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://rafaell-lycan.com/2015/comecando-com-es6/"><meta name="twitter:title" content="Começando com ES6 – Rafaell Lycan"><meta name="twitter:image" content="https://rafaell-lycan.com/assets/img/posts/comecando-com-es6.jpg"><meta name="twitter:description" content="Sinceramente estou ouvindo falar sobre ES6/ECMAScript 2015 a um bom tempo, mas nunca tinha parado para estudar mais a fundo. Sim isso realmente é novo mas não é o futuro, é o agora! "><meta name="twitter:creator" content="@RafaellLycan"><meta property="twitter:account_id" content="50549691"> <script type="text/javascript"> if (window.location.hostname !== 'localhost') { window.smartlook||(function(d) { var o=smartlook=function(){ o.api.push(arguments)},s=d.getElementsByTagName('script')[0]; var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript'; c.charset='utf-8';c.src='//rec.getsmartlook.com/bundle.js';s.parentNode.insertBefore(c,s); })(document); smartlook('init', '71b434ed5cffc14b8ccad3c50573871bcb972ef9'); } </script><link rel="stylesheet" href="/assets/css/style.css" media="all"></head><body><main class="wrap"><header class="header"><div class="container"><div class="author"> <a href="/"> <img src="/assets/img/rafaell-lycan.jpg" alt="Rafaell Lycan profile picture" title="Back to home" class="author__avatar"> </a></div><nav class="menu-list menu-list--inline"><ul class="default-list"><li class="menu-list__item"><a href="/about">About me</a></li><li class="menu-list__item"><a href="/">Blog</a></li> </ul></nav></div></header><article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting"><header class="blog-post__header"><h1 class="blog-post__title" itemprop="headline">Começando com ES6</h1><div class="blog-post__meta"> <span>This post is filed under</span> <a class="h6 post-tag" href="/tags#javascript">javascript</a> <span> • Published</span> <time class="h6" datetime="2015-07-30T00:00:00+02:00" itemprop="datePublished">30 Jul 2015</time> <span> • Reading time 16 min </span></div><figure class="blog-post__banner"> <img src="/assets/img/posts/comecando-com-es6.jpg" alt="Começando com ES6" title="Começando com ES6" itemprop="thumbnailUrl"></figure><p class="hidden" itemprop="keywords"></p></header><div class="blog-post__content"><p>Bem, nas ultimas semanas me deparei com alguns tutoriais utilizando ES6 (tambem conhecido como ECMAScript 2015 ou Harmony) como exemplo. Sim achei algumas coisas divinas, já outras são coisas que temos no Node.js por exemplo. Outras são coisas que alguns queriam a muito tempo para aproximar desenvolvedores back-end da linguagem JavaScript como classes.</p><p>Pois bem, este pode ser um post inútil para alguns, mas foi o que absorvi no ultimo mês e estou começando a utilizar em projetos pessoais com <a href="http://browserify.org/">Browserify</a> e <a href="https://github.com/babel/babelify">Babelify</a>.</p><p>Na ultima semana terminei de assistir a um <a href="http://howtocode.com.br/cursos/organizando-javascript">workshop</a> realizado pelo <a href="https://twitter.com/fnando">@fnando</a> mostrando alguns goodies de JS já utilizando ES6. Confesso que fiquei perplexo no início já que o compilador ficava cuspindo um monte de código sem sentido ES5, porem tudo funcionando. Então percebi assim duas coisas:</p><ul><li>1- ES6 não é difícil se você já sabe JS;</li><li>2- <a href="https://babeljs.io/">Babel</a> é o transpiler mais quente do momento (Sorry TypeScript).</li></ul><p>Pois bem, agora chegou a hora de passar o pouco que aprendi adiante, não se preocupe se você é um back-end developer, eu acredito que este pode ser o melhor momento para você aprender ES6, já que ele é muito mais clean e possui uma sintaxe um pouco mais bonita (Sugar syntax).</p><h4 id="goals">GOALS</h4><ul><li>Modules;</li><li>Arrow Functions;</li><li>Classes;</li><li>let &amp; const;</li><li>Template strings.</li></ul><h2 id="modules">Modules</h2><p>Porque não utilizar módulos hoje? Nós já fazemos isso no <strong>Node</strong> utilizando o padrão <strong>CommonJS</strong> ou até mesmo no front-end utilizando <a href="http://browserify.org/">Browserify</a> e <a href="http://requirejs.org/">RequireJS</a>.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//sum.js</span>
<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">export</span> <span class="p">{</span> <span class="nx">sum</span> <span class="p">}</span>

<span class="c1">//multiplier.js</span>
<span class="kd">var</span> <span class="nx">multiplier</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">export</span> <span class="p">{</span> <span class="nx">multiplier</span> <span class="p">}</span>

<span class="c1">//calculator.js</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">sum</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"./sum"</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">multiplier</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"./multiplier"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">sum</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">27</span><span class="p">);</span>   <span class="c1">// 42</span>
<span class="nx">result</span> <span class="o">=</span> <span class="nx">multiplier</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">);</span>  <span class="c1">// 42</span></code></pre></figure><p>Nada de mais certo? Já temos isso no Node, declaramos algo a ser exportado com <code class="highlighter-rouge">module.exports</code> e utilizamos <code class="highlighter-rouge">require</code> para utilizarmos em nossa app.</p><p>Ok, tudo muito legal…era isso que queriamos…um belo dia nativo para os browsers. Mas calma, ainda é possível brincar um pouco mais:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//calculator.js</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">export</span> <span class="kd">function</span> <span class="nx">multiplier</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// --- OU ---</span>

<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">},</span>
  <span class="nx">multiplier</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">export</span> <span class="p">{</span> <span class="nx">sum</span><span class="p">,</span> <span class="nx">multiplier</span> <span class="p">};</span>

<span class="c1">//app.js</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">sum</span><span class="p">,</span> <span class="nx">multiplier</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'calculator'</span><span class="p">;</span>
<span class="c1">// Importar ambas as declarações de um mesmo arquivo</span>

<span class="c1">// --- OU ---</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">sum</span> <span class="nx">as</span> <span class="nx">somar</span><span class="p">,</span> <span class="nx">multiplier</span> <span class="nx">as</span> <span class="nx">multiplicar</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'calculator'</span><span class="p">;</span>
<span class="c1">// Utilizar alias para as declarações exportadas</span>

<span class="c1">// --- OU ---</span>

<span class="kr">import</span> <span class="o">*</span> <span class="nx">from</span> <span class="s1">'calculator'</span><span class="p">;</span>
<span class="c1">// Importar todas as declarações exportadas</span></code></pre></figure><p>São algumas outras opções do que se pode fazer com módulos no ES6. Acredito que para alguns isso não será grande coisa, mas achei interessante ter isso nativo no lado cliente.</p><h2 id="arrow-functions">Arrow Functions</h2><p>Bom, muita gente que eu vi falar de ES6, estavam completamente apaixonados pela <strong>arrow functions</strong>, e não é pra menos, já que além de diminuir a quantidade de código também te da “de graça” o escopo pai, sem precisar de <code class="highlighter-rouge">.bind(this)</code> nem nada do tipo.</p><p>Vamos a um exemplo utilizando coisas que já fazemos no JavaScript.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">products</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'Macbook Pro'</span><span class="p">,</span> <span class="na">val</span><span class="p">:</span> <span class="mi">1999</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'Go Pro'</span><span class="p">,</span> <span class="na">val</span><span class="p">:</span> <span class="mi">299</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'PlayStation 4'</span><span class="p">,</span> <span class="na">val</span><span class="p">:</span> <span class="mi">599</span> <span class="p">}</span>
<span class="p">];</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">products</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">prod</span> <span class="o">=&gt;</span> <span class="nx">prod</span><span class="p">.</span><span class="nx">val</span><span class="p">));</span>
<span class="c1">// [1999, 299, 599] // [1999, 299, 599]</span>

<span class="kd">var</span> <span class="nx">prices</span> <span class="o">=</span> <span class="nx">products</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">prod</span> <span class="o">=&gt;</span> <span class="nx">prod</span><span class="p">.</span><span class="nx">val</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">prices</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">);</span>
<span class="c1">// 2897</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sum</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">productsWithTax</span> <span class="o">=</span> <span class="nx">products</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">prod</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">prod</span><span class="p">.</span><span class="nx">val</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">val</span> <span class="o">*</span> <span class="mf">1.6</span><span class="p">;</span>
<span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">productsWithTax</span><span class="p">);</span>
<span class="c1">// Nossos produtos com 60% de imposto</span>
<span class="c1">// Sem levar em consideração a conversão para o dolar =)</span></code></pre></figure><p>Bem simples este exemplo utilizando <strong>.map</strong> certo? Não sei mais o que podemos utilizar de exemplo, vamos com as funções simplistas utilizadas acima:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">},</span>
  <span class="nx">multiplier</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">};</span></code></pre></figure><p>Entendeu como funciona? Ainda assim temos passagem por block scope com nenhum ou mais argumentos, ou simplesmente a expressão sem necessidade de um bloco.</p><p><strong>Algo assim:</strong></p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="err">…</span> <span class="p">}</span>   <span class="c1">// Sem argumentos</span>
<span class="nx">x</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="err">…</span> <span class="p">}</span>    <span class="c1">// Um argumento</span>

<span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="err">…</span> <span class="p">}</span>         <span class="c1">// N argumentos</span>
<span class="nx">x</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">x</span> <span class="p">}</span>   <span class="c1">// Block scope</span>
<span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">x</span>              <span class="c1">// Mesma expressão sem necessidade do block scope</span></code></pre></figure><p>Sabe <strong>Promise</strong>? Eu venho utilizando esta abordagem em meus projetos e estou bem satisfeito. Vamos a um exemplo simples:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="cm">/* Condição */</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resolve</span><span class="p">(</span><span class="s2">"Promise + Arrow Functions = &lt;3"</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="nx">reject</span><span class="p">(</span><span class="nb">Error</span><span class="p">(</span><span class="s2">"Oops!"</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">promise</span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>  <span class="c1">// "Promise + Arrow Functions = &lt;3"</span>
<span class="p">},</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>     <span class="c1">// Error: "Oops!"</span>
<span class="p">});</span></code></pre></figure><p>Existem <strong>N</strong> partes que você pode utilizar Arrow Functions, basta ver se faz sentido e, utilizar em seu projeto.</p><h2 id="classes">Classes</h2><p>Agora vem a parte legal, eu particularmente conheço muita gente que fala que JavaScript não suporta Orientação a Objetos, que isso, que aquilo.</p><p>Certa vez, lendo o livro <a href="https://www.manning.com/books/secrets-of-the-javascript-ninja">Secrets of the JavaScript Ninja</a> do <a href="https://twitter.com/jeresig">@jeresig</a>, ele cita algumas vezes no começo sobre <strong>funções serem objetos de primeira classe</strong> e uma parte sobre <strong>funções construtoras</strong>. Depois que li isso tive certeza quanto ao JavaScript supoartar OO mesmo sendo baseada no que é chamado de <code class="highlighter-rouge">prototype</code>.</p><p>Você pode nunca ter visto a palavra <code class="highlighter-rouge">class</code>, mas provavelmente já viu algo do tipo:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">Todo</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">getItems</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">items</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">addItem</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">items</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">todo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Todo</span><span class="p">();</span>
<span class="nx">todo</span><span class="p">.</span><span class="nx">addItem</span><span class="p">(</span><span class="s1">'Aprender ES6'</span><span class="p">);</span>
<span class="nx">todo</span><span class="p">.</span><span class="nx">addItem</span><span class="p">(</span><span class="s1">'Ir no BrazilJS'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">todo</span><span class="p">.</span><span class="nx">getItems</span><span class="p">());</span>  <span class="c1">// ["Aprender ES6", "Ir no BrazilJS"]</span></code></pre></figure><p>Bem, mesmo não aceitando você acabou de ver um pseudo código bem simples de como objetos funcionam no JS. Não vou prolongar este post explicando sobre isso, você pode entender o conceito neste <a href="http://wbruno.com.br/javascript-puro/afinal-como-e-orientacao-a-objetos-em-javascript-exemplos/">ótimo post</a> do <a href="https://twitter.com/wbrunom">@wbrunom</a>.</p><p>Sem mais delongas… vamos nos benificiar das classes do ES6 utilizando exatamente o mesmo código acima:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">Todo</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">items</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="p">}</span>

  <span class="nx">getItems</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">addItem</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">todo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Todo</span><span class="p">();</span>
<span class="nx">todo</span><span class="p">.</span><span class="nx">addItem</span><span class="p">(</span><span class="s1">'Aprender ES6'</span><span class="p">);</span>
<span class="nx">todo</span><span class="p">.</span><span class="nx">addItem</span><span class="p">(</span><span class="s1">'Ir no BrazilJS'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">todo</span><span class="p">.</span><span class="nx">getItems</span><span class="p">());</span>  <span class="c1">// ["Aprender ES6", "Ir no BrazilJS"]</span></code></pre></figure><p>Pronto! Ta ai seu <code class="highlighter-rouge">class</code>. Vamos analisar o código:</p><ul><li>Definimos no <code class="highlighter-rouge">constructor</code> que iremos criar uma propriedade <code class="highlighter-rouge">items</code> que nesse caso não esta recebendo nenhum argumento;</li><li>Diferente da função construtora, a propriedade <code class="highlighter-rouge">items</code> não é privada;</li><li>Definimos os mesmos métodos utilizando <code class="highlighter-rouge">name () { ... }</code>, o que funciona exatamente da mesma forma;</li><li>Instanciamos o objeto exatamente da mesma forma que a função construtora.</li></ul><p>Eu venho acompanhando o <a href="http://www.2ality.com/">blog do Dr. Axel Rauschmayer</a> que esta atualmente escrevendo o livro <a href="https://leanpub.com/exploring-es6/">Exploring ES6</a> e achei algumas referencias para deixar um atributo privado em uma classe. Não é muito elegante, mas funciona:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">_items</span> <span class="o">=</span> <span class="p">[];</span>

<span class="kr">class</span> <span class="nx">Todo</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">getItems</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">_items</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">addItem</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">_items</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure><p>Como disse, não é uma maneira muito elegante, mas se for necessário você provavelmente vai separa isso num módulo e vai exportar apenas a classe.</p><p>Também podemos ter o conceito de herança muito mais claro com ES6, vou utilizar um exempo ridiculo que vi na faculdade mas acho que serve nesse caso:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">Conta</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">dono</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">number</span> <span class="o">=</span> <span class="nx">number</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">owner</span> <span class="o">=</span> <span class="nx">dono</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">saldo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">deposit</span><span class="p">(</span><span class="nx">qnt</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">qnt</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">saldo</span> <span class="o">+=</span> <span class="nx">qnt</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Insira um valor valido"</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">withdraw</span><span class="p">(</span><span class="nx">qnt</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">qnt</span> <span class="o">&lt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">saldo</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">saldo</span> <span class="o">-=</span> <span class="nx">qnt</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Você não tem saldo suficiente"</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">checkSaldo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">saldo</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">ContaCorrente</span> <span class="kr">extends</span> <span class="nx">Conta</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">dono</span><span class="p">){</span>
    <span class="kr">super</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">dono</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">'Corrente'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">cc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ContaCorrente</span><span class="p">(</span><span class="mi">10007</span><span class="p">,</span><span class="s1">'Rafaell'</span><span class="p">);</span>
<span class="nx">cc</span><span class="p">.</span><span class="nx">deposit</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">cc</span><span class="p">.</span><span class="nx">checkSaldo</span><span class="p">());</span> <span class="c1">// 1000</span></code></pre></figure><ul><li>Criamos a <strong>ContaCorrente</strong> <code class="highlighter-rouge">ContaCorrente</code> e utilizamos <code class="highlighter-rouge">extends</code> que herda os métodos da classe pai;</li><li>Perceba que no construtor, utilizamos a mesma assinatura, porem passamos como atributos para o método <code class="highlighter-rouge">super</code> que nada mais é do que o construtor da classe pai.</li></ul><p>Esse conceito de herança já existe a algum tempo, mas o código serial algo assim:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">Conta</span> <span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">dono</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Code</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">ContaCorrente</span> <span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">dono</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Code</span>
<span class="p">};</span>
<span class="nx">ContaCorrente</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Conta</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
<span class="nx">ContaCorrente</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">ContaCorrente</span><span class="p">;</span>
<span class="nx">ContaCorrente</span><span class="p">.</span><span class="nx">parent</span> <span class="o">=</span> <span class="nx">Conta</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span></code></pre></figure><p>Funciona, mas realmente é algo um pouco mais cansativo para se ler e/ou escrever.</p><h2 id="let--const">let &amp; const</h2><p>Uma coisa interessante que veio com ES6 mas me deixou confuso no inicio foi <code class="highlighter-rouge">let</code> e o <strong>block scope</strong>.</p><p>O <code class="highlighter-rouge">let</code> funciona parecido como o <code class="highlighter-rouge">var</code> porem ele corrige o problema que temos quanto ao escopo e <a href="http://loopinfinito.com.br/2014/10/29/hoisting-e-escopo-em-javascript/">hoisting</a>, ou seja, ela ira apenas existir quando definida em um bloco (<code class="highlighter-rouge"><span class="p">{}</span></code>) onde sera criado seu escopo.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// ES5</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="mi">1</span> <span class="o">===</span> <span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
 <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span> <span class="c1">// 2</span>

<span class="c1">// ES6</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="mi">1</span> <span class="o">===</span> <span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
 <span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span> <span class="c1">// Uncaught ReferenceError: b is not defined</span></code></pre></figure><p>Nesse caso utilizando <code class="highlighter-rouge">let</code>, podemos ver claramente que o valor de b não é declarado fora do bloco <code class="highlighter-rouge">if</code> na etapa de hoisting. Ao meu ver isso é até complicado de se explicar, mas vou utilizar um outro exemplo que talvez fara mais sentido:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
 <span class="c1">// …</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">someFunc</span><span class="p">()</span> <span class="p">{</span>
 <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s1">'My Secret Value'</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span> <span class="c1">// 3</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span> <span class="c1">// Uncaught ReferenceError: a is not defined</span></code></pre></figure><p>Acho que agora vou conseguir explicar melhor. Se você não sabia, quando utiliza o <code class="highlighter-rouge">for</code>, a variavel que usa como <strong>count</strong> é definida globalmente no escopo durante o hoisting, enquanto a variável <code class="highlighter-rouge">a</code> esta presente apenas dentro da função <code class="highlighter-rouge">someFunc</code>. A função cria um novo contexto para a variável <code class="highlighter-rouge">a</code>, porem ela também pode enxergar a variável <code class="highlighter-rouge">i</code> do nosso loop. Uma forma de evitarmos isso durante o hoisting é utilizando <code class="highlighter-rouge">let</code>, que cria uma variável dentro de um escopo isolado definido por blocos (<code class="highlighter-rouge"><span class="p">{}</span></code>):</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
 <span class="c1">// …</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">someFunc</span><span class="p">()</span> <span class="p">{</span>
 <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="s1">'My Secret Value'</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span> <span class="c1">// Uncaught ReferenceError: i is not defined</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span> <span class="c1">// Uncaught ReferenceError: a is not defined</span></code></pre></figure><p>Meh…<strong>constantes</strong></p><p>Agora temos <code class="highlighter-rouge">const</code> funciona também respeitando o block scoping como <code class="highlighter-rouge">let</code>, porem se comporta da forma que uma constante deveria se comportar (ready only).</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">PI</span> <span class="o">=</span> <span class="mf">3.141593</span><span class="p">;</span>

<span class="nx">PI</span> <span class="o">=</span> <span class="mf">3.14</span><span class="p">;</span> <span class="c1">// throws “PI” is read-only</span></code></pre></figure><h2 id="template-strings">Template strings</h2><p>Depois de muito tempo, agora temos <strong>template strings</strong> nativo com ES6.</p><p><strong>WAT?!</strong></p><p>Melhor eu mostrar =)</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Sem template String</span>
<span class="kd">let</span> <span class="nx">link</span> <span class="o">=</span> <span class="s1">'http://www.ecma-international.org/ecma-262/6.0/'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">cssClass</span> <span class="o">=</span> <span class="s1">'link-js'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">text</span> <span class="o">=</span> <span class="s1">'ECMAScript® 2015 Language Specification'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">elementTpl</span> <span class="o">=</span> <span class="s1">'&lt;a href="'</span> <span class="o">+</span> <span class="nx">link</span> <span class="o">+</span> <span class="s1">'" class="'</span> <span class="o">+</span> <span class="nx">cssClass</span> <span class="o">+</span> <span class="s1">'"&gt;'</span> <span class="o">+</span> <span class="nx">text</span> <span class="o">+</span> <span class="s1">'&lt;/a&gt;'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">elementTpl</span><span class="p">);</span>
<span class="c1">// &lt;a href="http://..." class="link-js"&gt;ECMAScript® 2015...&lt;/a&gt;</span>

<span class="c1">// Com template String</span>
<span class="nx">elementTpl</span> <span class="o">=</span> <span class="err">`</span><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"${link}"</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"${cssClass}"</span><span class="o">&gt;</span><span class="nx">$</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/a&gt;`</span><span class="err">;
</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">elementTpl</span><span class="p">);</span>
<span class="c1">// &lt;a href="http://..." class="link-js"&gt;ECMAScript® 2015...&lt;/a&gt;</span></code></pre></figure><p>Não é lindo? Simples? Quase uma obra divina?</p><p>E o melhor, apenas utilizando <code>`</code></p><h2 id="conclusão">Conclusão</h2><p>ES6 não é pra ser usado no futuro, etc… é pra ser aprendido e se possível utilizado hoje!</p><p>Você pode aprender lendo sobre isso em blogs ou vendo vídeos como eu fiz, ou procurar alguma documentação.</p><p>Algumas boas referencias para estudo e opções de transpilers:</p><ul><li><a href="https://github.com/ericdouglas/ES6-Learning">ES6-Learning</a> by <a href="https://twitter.com/ericdouglas_">@ericdouglas_</a></li><li><a href="https://github.com/addyosmani/es6-tools">ECMAScript 6 Tools</a> by <a href="https://twitter.com/addyosmani">addyosmani</a></li></ul><p>Como fazer isso? Bom, eu li num <a href="http://jsrocks.org/pt-br/2015/05/how-i-m-using-es6-modules-in-production/">post</a> do <a href="https://twitter.com/jaydson">@jaydson</a> sobre utilizar o <a href="https://babeljs.io/">Babel</a> como transpiler e carregar os módulos com o <a href="http://browserify.org/">Browserify</a>. Isso tem funcionado bem nos meus projetos, ainda não consegui colocar isso aqui no <a href="https://www.tripda.com.br/">Tripda</a>, mas não vai demorar muito. =)</p></div><section class="share"><h3>Share this post</h3><ul class="social-list"><li class="social-list__item facebook hint--bottom" data-hint="Share on Facebook"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://rafaell-lycan.com/2015/comecando-com-es6/" target="share"> <span class="social-list__text">Like</span> </a></li><li class="social-list__item twitter hint--bottom" data-hint="Share on Twitter"> <a href="https://twitter.com/share?text=Começando com ES6&amp;url=https://rafaell-lycan.com/2015/comecando-com-es6/" target="share"> <span class="social-list__text">Tweet</span> </a></li><li class="social-list__item gplus hint--bottom" data-hint="Share on Google Plus"> <a href="https://plus.google.com/share?url=https://rafaell-lycan.com/2015/comecando-com-es6/" target="share"> <span class="social-list__text">+1</span> </a></li></ul></section><section class="related"><h3 class="related__title">Referências</h3><ul class="default-list"><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://babeljs.io/docs/learn-es2015/" title="Learn ES2015 (Babel Website)" target="_blank"> <span itemprop="name">Learn ES2015 (Babel Website)</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://jsrocks.org/" title="ES6 Rocks" target="_blank"> <span itemprop="name">ES6 Rocks</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://ccoenraets.github.io/es6-tutorial/" title="ECMAScript 6 Tutorial" target="_blank"> <span itemprop="name">ECMAScript 6 Tutorial</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://egghead.io/technologies/es6" title="ECMAscript 6 Lessons (Egghead.io)" target="_blank"> <span itemprop="name">ECMAscript 6 Lessons (Egghead.io)</span> </a></li></ul></section><div class="comments"><div id="disqus_thread"></div></div><script> if (window.location.hostname !== 'localhost') { var disqus_shortname = 'rafaelllycan'; var disqus_identifier = '/2015/comecando-com-es6'; var disqus_config = function () { this.page.url = 'https://rafaell-lycan.com/2015/comecando-com-es6/'; this.page.identifier = '/2015/comecando-com-es6'; }; (function() { var d = document, s = d.createElement('script'); s.src = '//' + disqus_shortname + '.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); s.async = true; (d.head || d.body).appendChild(s); })(); } </script></article><footer class="footer"><p> Made with <a href="https://jekyllrb.com/" target="_blank" class=" externalLink">Jekyll</a> and <span class="love">♥</span> by Rafaell Lycan.</p></footer></main><script async src="/assets/js/main.min.js"></script>  <script> !function(v,i,n,k,l,a){v.GoogleAnalyticsObject=n;v[n]||(v[n]=function(){ (v[n].q=v[n].q||[]).push(arguments)});v[n].l=+new Date;l=i.createElement(k); a=i.getElementsByTagName(k)[0];l.src='https://google-analytics.com/analytics.js'; a.parentNode.insertBefore(l,a)}(window,document,'ga','script'); ga('create', 'UA-16383035-5', 'auto'); ga('require', 'displayfeatures'); ga('send', 'pageview'); </script></body></html>
