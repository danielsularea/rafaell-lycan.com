<!DOCTYPE html><html lang="pt-BR" dir="ltr"><head><meta charset="utf-8"><title>Começando com React.js – Rafaell Lycan</title><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"> <meta name="apple-mobile-web-app-capable" content="yes"><link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <meta name="description" content="Vamos entender qual é a proposta do React, pra que serve e como começar a utilizar. "><meta name="keywords" content="desenvolvedor, front end, back end, developer, php, javascript, node, laravel, angular, react, software"><meta name="author" content="Rafaell Lycan - https://rafaell-lycan.com"/><meta name="reply-to" content="sonny.webdsg@gmail"/><link rel="canonical" href="https://rafaell-lycan.com/2015/comecando-com-react/"><link rel="alternate" type="application/rss+xml" href="https://feeds.feedburner.com/rafaell-lycan" title="Rafaell Lycan RSS Feed"><link rel="dns-prefetch" href="//google-analytics.com"><link rel="dns-prefetch" href="//www.google-analytics.com"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel='dns-prefetch' href='//s2.getsmartlook.com'><link rel='dns-prefetch' href='//rec.getsmartlook.com'><link rel="preconnect" href="//google-analytics.com" crossorigin /><link rel="preconnect" href="//www.google-analytics.com" crossorigin /><link rel="preconnect" href="//fonts.googleapis.com" crossorigin /><link rel='preconnect' href='//s2.getsmartlook.com' crossorigin><link rel='preconnect' href='//rec.getsmartlook.com' crossorigin> <meta name="google-site-verification" content="x08xUXYXTQWjHPyl9M_w5VIF07UWLSi0XUTxxCSS7rQ" /><meta name="robots" content="index, follow"><meta name="HandheldFriendly" content="True" /><meta name="MobileOptimized" content="320" /><meta name="mobile-web-app-capable" content="yes"><link rel="manifest" href="/manifest.json"><link rel="icon" sizes="192x192" href="/assets/img/icon-192x192.png"><link rel="icon" sizes="144x144" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon" sizes="128x128" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="128x128" href="/assets/img/icon-144x144.png"> <meta property="og:locale" content="pt_BR"><meta property="og:type" content=" article "><meta property="og:title" content="Começando com React.js – Rafaell Lycan"><meta property="og:url" content="https://rafaell-lycan.com/2015/comecando-com-react/"><meta property="og:image" content="https://rafaell-lycan.com/assets/img/posts/comecando-com-react.jpg"><meta property="og:description" content="Vamos entender qual é a proposta do React, pra que serve e como começar a utilizar. "><meta property="og:site_name" content="Hi there, I'm Rafaell"><meta property="article:publisher" content="https://www.facebook.com/rafaell.lycan"> <meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://rafaell-lycan.com/2015/comecando-com-react/"><meta name="twitter:title" content="Começando com React.js – Rafaell Lycan"><meta name="twitter:image" content="https://rafaell-lycan.com/assets/img/posts/comecando-com-react.jpg"><meta name="twitter:description" content="Vamos entender qual é a proposta do React, pra que serve e como começar a utilizar. "><meta name="twitter:creator" content="@RafaellLycan"><meta property="twitter:account_id" content="50549691"> <script type="text/javascript"> if (window.location.hostname !== 'localhost') { window.smartlook||(function(d) { var o=smartlook=function(){ o.api.push(arguments)},s=d.getElementsByTagName('script')[0]; var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript'; c.charset='utf-8';c.src='//rec.getsmartlook.com/bundle.js';s.parentNode.insertBefore(c,s); })(document); smartlook('init', '71b434ed5cffc14b8ccad3c50573871bcb972ef9'); } </script><link rel="stylesheet" href="/assets/css/style.css" media="all"></head><body><main class="wrap"><header class="header"><div class="container"><div class="author"> <a href="/"> <img src="/assets/img/rafaell-lycan.jpg" alt="Rafaell Lycan profile picture" title="Back to home" class="author__avatar"> </a></div><nav class="menu-list menu-list--inline"><ul class="default-list"><li class="menu-list__item"><a href="/about">About me</a></li><li class="menu-list__item"><a href="/">Blog</a></li> </ul></nav></div></header><article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting"><header class="blog-post__header"><h1 class="blog-post__title" itemprop="headline">Começando com React.js</h1><div class="blog-post__meta"> <span>This post is filed under</span> <a class="h6 post-tag" href="/tags#react">react</a>, <a class="h6 post-tag" href="/tags#javascript">javascript</a> <span> • Published</span> <time class="h6" datetime="2015-10-27T00:00:00+01:00" itemprop="datePublished">27 Oct 2015</time> <span> • Reading time 23 min </span></div><figure class="blog-post__banner"> <img src="/assets/img/posts/comecando-com-react.jpg" alt="Começando com React.js" title="Começando com React.js" itemprop="thumbnailUrl"></figure><p class="hidden" itemprop="keywords"></p></header><div class="blog-post__content"><p>Neste post eu vou abordar um overview do que consegui absorver nas ultimas semanas lendo sobre <a href="https://facebook.github.io/react/">React.js</a> <del>(embora que tenha lido sobre <a href="https://facebook.github.io/flux/">Flux</a>, <a href="https://github.com/rackt/react-router">Router</a> e outras drogas também)</del>, veremos como desenvolver interfaces e components com <a href="https://facebook.github.io/react/">React</a>.</p><p>Se você esta tentando entender o que é? Para que serve? O que come? E outros deverivados, esse post pode ser para você.</p><h2 id="mais-um-framework-hype">Mais um framework Hype?</h2><p>Antes de tudo gostaria de deixar bem claro que sempre fui um tanto crítico sobre frameworks JS, principalmente pelo simples de ter começado com <a href="http://backbonejs.org/">Backbone.js</a>, e por mais de um ano criando coisas legais com <a href="https://angularjs.org/">Angular.js</a>.</p><p><strong>React.js</strong> é uma <strong>biblioteca</strong> de UI desenvolvida pelo <strong>Facebook</strong> para facilitar a criação de componentes interativos e reusáveis. Hoje é utilizada em produção no Facebook, e o <strong>Instragram</strong> foi desenvolvido inteiramente com ele.</p><p>O legal é que nos traz um conceito diferente sobre o que é, pois além de não ser um framework e sim uma lib, não vá se enganando sobre frameworks MV*, um framework é um conjunto de ferramentas que resolve diversos problemas, o React é uma biblioteca que tem o proposito de abstrair a complexidade do DOM e renderizar componentes.</p><p>Não isso não é uma coisa ruim, acredite.</p><div class="center"> <script type="text/javascript" src="//www.google.com.br/trends/embed.js?hl=pt-BR&amp;q=ReactJS&amp;date=1/2012+37m&amp;cmpt=q&amp;tz=Etc/GMT%2B3&amp;tz=Etc/GMT%2B3&amp;tz=Etc/GMT%2B3&amp;content=1&amp;cid=TIMESERIES_GRAPH_0&amp;export=5&amp;w=700&amp;h=330"></script></div><p>A biblioteca é relativamente nova, tendo como criador o Facebook e uma comunidade fora do normal, ele vem ganhando força e crescendo a cada dia. Não posso falar nada quanto a isso, mas não acho que será apenas uma moda passageira. Na verdade acho que coisas muito boas como o <a href="http://vuejs.org/">Vue.js</a> criado pelo <a href="https://twitter.com/youyuxi">@youyuxi</a> que é do core team do <a href="https://www.meteor.com/">Meteor.js</a>, e outros frameworks/libs que estão por vim, vão se inspirar cada vez mais em novos conceitos e em como isso pode se aplicar a necessidade dos desenvolvedores.</p><p>A primeira vez que olhei mais de perto o código de uma aplicação em React, foi o no final de 2014 com o <a href="https://github.com/tadeuzagallo/GithubPulse">GithubPulse</a>, desenvolvido pelo meu colega <a href="https://twitter.com/tadeuzagallo">@tadeuzagallo</a>.</p><p>Eu era apenas <del>(e continuo me julgando)</del> um simples desenvolvedor, que conhecia apenas Backbone e Angular, e toda a ideia do React me parecia um tanto turva.</p><p>No inicio de 2015 por conta de algumas coisas que estavam acontecendo na <a href="https://www.rocket-internet.com/">Rocket</a>, comecei a estudar mais sobre <a href="http://nodejs.org/">Node.js</a>, JavaScript e outras coisas, incluindo React.</p><p>Logo, quero deixar claro que vou passar boa parte do conhecimento que adquiri, mas estou longe, muito longe mesmo de ser um expert.</p><p>Nas ultimas semanas eu desenvolvi um player utilizando React e a <a href="https://developers.soundcloud.com/">API do SoundCloud</a> que você pode ver <a href="http://player-rafaell18.rhcloud.com/">funcionando aqui</a>, ou simplesmente ver o código <del>(o qual preciso melhorar)</del> no meu <a href="https://github.com/rafaell-lycan/estudos-react/tree/master/mini-player-webpack">Github</a>.</p><h2 id="uma-jornada-inesperada">Uma jornada inesperada</h2><p>Depois de ler boa parte da documentação, e fazer uma analogia com os frameworks que já vinha utilizando, finalmente consegui entender o conceito da coisa, seus benefícios e também que ele não é bala de prata como todos os outros. <del>Sim, quero ver sangue e ameaças nos comentários :)</del></p><p>A primeira parte que foi complicada entender foi o <strong>conceito</strong>, já que ele <strong>não segue o modelo MVC</strong>, de fato React na verdade é uma <strong>biblioteca para criar interfaces baseadas em componentes</strong>, onde basicamente <strong>abstrai o DOM API</strong> quanto a <strong>eventos</strong> a serem disparados <em>(onClick, onBlur, onChange, etc)</em> e também sobre os <strong>elementos</strong> em si <em>(createElement, createTextNode, appendChild, etc)</em>.</p><p>Além disso, React usa um conceito chamado de <strong>Virtual DOM</strong>, que é a camada que renderiza nossos componentes na <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM Tree</a> baseado em mudanças de estados (states), com o minimo de mudanças possíveis. Não entendeu? Se você entendeu meus parabéns, eu levei algumas horas pra processar essa informação e resumir neste parágrafo.</p><p>Ainda segundo a documentação, podemos também renderizar a partir do servidor, não testei ainda, mas pelo que li deve ser algo bem interessante, principalmente tratando-se de escala.</p><h2 id="mehconceitos">Meh…Conceitos:</h2><ul><li><strong>React Elements:</strong> são basicamente objetos JavaScript que representam os elementos HTML, tais como <code class="highlighter-rouge">h1</code>, <code class="highlighter-rouge">div</code>, <code class="highlighter-rouge">span</code>, etc.</li><li><strong>Componentes:</strong> Esses sim são os caras legais, basicamente é todo componente que desenvolvemos utilizando os <em>React elements</em>, e normalmente são construidos contendo tanto estrutura (markup, classes), quanto funcionalidades (aquela parte de eventos/comportamentos que falamos acima).</li><li><strong>JSX:</strong> É uma tecnologia para criar nossos elementos e componentes, que basicamente abstrai a forma com que escrevemos nossos componentes e depois compilamos para JavaScript normal, mas não tem nada haver com o React em sí, mas ajuda muito.</li></ul><p><strong>Vamos a um exemplo para que isso não vire uma confusão:</strong></p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/* Sem JSX */</span>
<span class="kd">var</span> <span class="nx">Hello</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="na">displayName</span><span class="p">:</span> <span class="s2">"Hello"</span><span class="p">,</span>
  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span>
      <span class="s2">"h1"</span><span class="p">,</span>
      <span class="kc">null</span><span class="p">,</span>
      <span class="s2">"Hello "</span><span class="p">,</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Hello</span><span class="p">,</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s2">"World"</span> <span class="p">}),</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>

<span class="cm">/* Com JSX */</span>

<span class="cm">/** @jsx React.DOM */</span>
<span class="kd">var</span> <span class="nx">Hello</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="na">displayName</span><span class="p">:</span> <span class="s2">"Hello"</span><span class="p">,</span>
  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Hello</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"World"</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span></code></pre></figure><p>Ai vai de você, mas imagina se você escrever tudo com JS puro, e tiver N componentes aninhados? Ai fica legal a brincadeira né? Imagina debugar? Ou achar onde tem que mexer? Uhull \o/</p><p>Percebeu também a parte da notação <code class="highlighter-rouge">/** @jsx React.DOM */</code>?</p><ul><li>Você vai precisar importar seus arquivos JSX seguindo esse padrão: <br /> <code class="highlighter-rouge">&lt;script src="app.jsx" type="text/jsx"&gt;</code>;</li><li>Adicionar a notação <code class="highlighter-rouge">/** @jsx React.DOM */</code>;</li><li>E por fim adicionar o <strong>JSXTransformer</strong> que é o compiler de JSX. <a href="https://babeljs.io/">Babel</a> também funciona ;)</li></ul><p>Uma boa solução que tenho adotado é utilizar <a href="http://browserify.org/">Browserify</a> com <a href="https://github.com/babel/babelify">Babelify</a>, que além de dar suporte a ES6, resolve bem os meu problemas com pacotes do <a href="https://www.npmjs.com/">NPM</a>.</p><h2 id="ok-tudo-muito-explicativo-legal-mas-porque-usar">Ok, tudo muito explicativo, legal, mas porque usar?</h2><ul><li>React não é um framework, ele é só o cara que renderiza componentes na sua UI, e manipula o DOM o minimo possível para você ter performance em sua aplicação;</li><li>É estupidamente flexível, abstrato e pode ser utilizado com outros frameworks;</li><li>Ideal para componentes reusáveis, pequenos, extensíveis e fáceis de manter;</li><li>Utiliza <strong>Virtual DOM</strong>, que é bem mais rápido e inteligente do que a API nátiva do DOM;</li><li>É possível renderizar do lado servidor, o que permite ainda mais performance e melhora do SEO (apenas li sobre isso, não usei).</li></ul><p>Se você não se convenceu veja os links abaixo:</p><ul><li><a href="http://facebook.github.io/react/blog/2013/06/05/why-react.html">Why did we build React?</a></li><li><a href="http://www.htmlxprs.com/post/17/10-reasons-to-use-react-in-your-next-project">10 reasons to use React in your next project</a></li><li><a href="https://www.quora.com/profile/Pete-Hunt/Posts/React-Convincing-the-Boss">React: Convincing the Boss</a></li></ul><h2 id="componentes">Componentes</h2><p>Componentes são o coração e alma de uma aplicação React, eles são elementos customizados (tipo diretivas customizadas do Angular) e normalmente seguem uma estrutura como essa:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Photo</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>

  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">className</span><span class="o">=</span><span class="s1">'picture'</span> <span class="nx">src</span><span class="o">=</span><span class="s1">'http://lorempixel.com/200/200/'</span> <span class="o">/&gt;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Photo</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span></code></pre></figure><p>A função <code class="highlighter-rouge">createClass</code> recebe um objeto que implementa <code class="highlighter-rouge">render</code> como função, constroi um novo componente chamado <code class="highlighter-rouge">&lt;Photo /&gt;</code>, que nada mais é do que uma imagem com um <code class="highlighter-rouge">src</code> e uma classe <code class="highlighter-rouge">picture</code> e por fim renderiza em nosso <code class="highlighter-rouge">body</code>.</p><p>O que acontece por baixo dos panos é mais ou menos isso aqui:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Photo</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'img'</span><span class="p">);</span>
<span class="nx">Photo</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'http://lorempixel.com/200/200/'</span><span class="p">;</span>
<span class="nx">Photo</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">'picture'</span><span class="p">;</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">Photo</span><span class="p">);</span></code></pre></figure><h2 id="virtual-dom">Virtual DOM</h2><p>Esse cara foi sem dúvidas o achado que faz o React ganhar campo a cada dia.</p><p>O Virtual DOM faz a mágica através do método <code class="highlighter-rouge">render</code>, gerando assim uma representação do elemento onde ele for utilizado (view, outros componentes, etc). O Markup é injetado no documento de uma única vez, e quando temos alguma mudança no componente e o método é chamado novamente, o React prevê o que foi mudado (old, new) com o que já esta em memória para fazer a menor alteração possível e altera no DOM apenas essas pequenas mudanças, ao invés de todo o componente. <del>Sim, você pode chorar</del></p><h2 id="propriedades">Propriedades</h2><p>Propriedades ou simplesmente <strong>Props</strong> podem ser passadas para nosso componente como atributos, exatamente como no HTML.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Photo</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>

  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">figure</span> <span class="nx">className</span><span class="o">=</span><span class="s1">'picture'</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">figcaption</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">caption</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/figcaption</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/figure</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Photo</span> <span class="nx">src</span><span class="o">=</span><span class="s1">'http://lorempixel.com/200/200/'</span> <span class="nx">caption</span><span class="o">=</span><span class="s1">'Random Image'</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span></code></pre></figure><p>Neste exemplo passamos dois argumentos na criação de nosso componente, sendo <code class="highlighter-rouge">src</code> que sera adicionado como propriedade source da imagem e <code class="highlighter-rouge">caption</code>, que recebera apenas um texto dentro da tag <code class="highlighter-rouge">figcaption</code>.</p><p>Um ponto importante a dizer é que propriedades de um componentes são imutáveis, ou seja, eles nunca mudam.</p><p>Perceba também que antes de renderizar o componente, foi adicionado a tag <code class="highlighter-rouge">figure</code>, que serve de container para os demais elementos. Isso porque o React renderiza apenas um elemento pai (ParentNode), ou seja, você não vai conseguir criar 2 ou mais elementos sem primeiro definir um container.</p><h2 id="estado-e-especificações">Estado e Especificações</h2><p>Estado ou <strong>State</strong> é um objeto interno do componente que por sua vez é mutável e atualiza os dados do componente toda vez que suas informações mudarem.</p><p>Todo componente possui um objeto <code class="highlighter-rouge">state</code> e outro <code class="highlighter-rouge">props</code> mesmo que não declarados. Podemos adicionar <strong>states</strong> utilizando o método <code class="highlighter-rouge">setState</code> que irá disparar uma ação e atualizar nosso componente em todos os lugares que estivermos utilizando <code class="highlighter-rouge">this.state</code>.</p><p>Também podemos especificar na criação de nosso componente estados e propriedades iniciais através dos métodos <code class="highlighter-rouge">getInitialState</code> e <code class="highlighter-rouge">getDefaultProps</code> que acredito ter nomes bem explicativos. Ambos retornam um objeto com as propriedades ou estados iniciais do objeto.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Count</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="na">getInitialState</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">count</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">increment</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="na">count</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="p">});</span>
  <span class="p">},</span>
  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s1">'counter'</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">increment</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Increment</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Count</span><span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span></code></pre></figure><p>Quando falamos sobre estado de um componente adicionamos mais complexidade ao mesmo.</p><p>Criamos um componente simples, que incrementa um valor a cada vez que clicamos no botão certo? Mas o que acontece no DOM?</p><ul><li>A cada vez que clicamos no botão o método <code class="highlighter-rouge">increment</code> é chamado através de um listener;</li><li>O estado <code class="highlighter-rouge">count</code> muda e é renderizado novamente dentro do elemento h1;</li><li>O React renderiza novamente utilizando o Virtual DOM;</li><li>O React compara o novo DOM virtual com o DOM que ele possui em nossa view;</li><li>O React isola o que mudou e atualiza apenas essas mudanças diretamente em nosso DOM.</li></ul><p><a href="https://jsbin.com/bekuyuyupa/edit?html,js,output">Veja este exemplo aqui</a></p><h2 id="eventos">Eventos</h2><p>React foi desenvolvido para trabalhar com os eventos nativos dos navegadores, como vimos no exemplo acima, podemos associar um evento a um método facilmente.</p><h2 id="ciclo-de-vida-de-um-componente">Ciclo de vida de um componente</h2><p>Bem, essa foi uma das partes complexas de se entender. Acredite, eu demorei um pouco e você também vai.</p><p>Quando o método <code class="highlighter-rouge">render</code> é chamado, esta acontecendo N coisas para carregar o componente, verificar se esta tudo OK e ai sim, finalmente renderiza-lo.</p><p>Vamos dar uma olhada rápida no Lifecycle de um componente e seus métodos:</p><ul><li><strong>componentWillMount:</strong> Chamado apenas uma vez antes da chamada <code class="highlighter-rouge">render</code>;</li><li><strong>componentDidMount:</strong> Chamado apenas uma vez depois da chamada <code class="highlighter-rouge">render</code>;</li><li><strong>componentWillUnmount:</strong> Chamado quando o componente é destruido;</li><li><strong>shouldComponentUpdate:</strong> Chamado antes do componente setar seus estados e propriedades, e retorna um valor (boolean) que determina se o componente deve se atualizar ou não;</li></ul><p>Para mais informações, você pode <a href="https://facebook.github.io/react/docs/component-specs.html">olhar aqui.</a></p><h2 id="composição-hell-yeah">Composição: Hell Yeah!</h2><p>Composição é a parte mais legal da coisa. É quando criamos um novo componente a partir de componentes menores;</p><p>O que precisamos ter cuidado é com a direção do Flow, pois o mesmo é unidirecional, totalmente diferente do two-way data biding do Angular, ou seja, com a base de componentes definida, o normal é sempre os componentes pais cuidarem de como gerenciar seus componentes filhos via propriedades/props. Isso também é chamado de <strong>top-down</strong>.</p><p>Vamos a um exemplo que fiz bem simples, primeiro vamos criar nosso arquivo <code class="highlighter-rouge">App.jsx</code>:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/** @jsx React.DOM */</span>

<span class="kd">var</span> <span class="nx">APP</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>

  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"container"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">TodoList</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>

<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">APP</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'main'</span><span class="p">));</span></code></pre></figure><p>Este cara tem a unica responsabilidade de renderizar um componente que possui um componente filho dentro de um elemento com id <strong>main</strong>.</p><p>Vamos ao nosso arquivo index.html, e sim, vou usar o Bootstrap só pra não ter que ficar fazendo todo CSS na mão:</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>TodoList React<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"main"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fb.me/react-0.13.3.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="c">&lt;!-- Arquivos JSX --&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/jsx"</span> <span class="na">src=</span><span class="s">"app.jsx"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure><p>Pronto, agora todos os arquivos JSX nós vamos inserir ali na área comentada.</p><p>Bem, o comportamento default de uma TodoList é:</p><ul><li>Apresentar a lista de Todos/Tasks;</li><li>Você pode marcar uma task como completa ou simplesmente deleta-la de sua lista;</li><li>Você pode adicionar novas tasks;</li></ul><p>Agora vamos imaginar a arquitetura dos componentes como <strong>top-down</strong>. Se o nosso <code class="highlighter-rouge">App</code> esta carregando apenas o componente <code class="highlighter-rouge">TodoList</code> tanto <code class="highlighter-rouge">App</code> quanto <code class="highlighter-rouge">TodoList</code> podem ser o componente pai da aplicação, ou seja, onde a lógica é armazenada. Vamos utilizar o <code class="highlighter-rouge">TodoList</code> e manter o <code class="highlighter-rouge">App</code> o mais limpo possível.</p><p>A primeira coisa a se fazer é definir nosso componente, então vou criar uma <code class="highlighter-rouge">div</code> para ser o wrapper do componente e também vou criar dois métodos: <code class="highlighter-rouge">loadTasks</code> que retorna um array com as tasks da aplicação e <code class="highlighter-rouge">renderTasks</code>, que irá servir para parsear nossas tasks para um componente <code class="highlighter-rouge">Task</code> utilizando o <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">Array.map()</a>.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/** @jsx React.DOM */</span>

<span class="kd">var</span> <span class="nx">TodoList</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="na">loadTasks</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="p">{</span><span class="na">value</span> <span class="p">:</span> <span class="s1">'Learn JavaScript'</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span>
        <span class="p">{</span><span class="na">value</span> <span class="p">:</span> <span class="s1">'Buy Milk'</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
        <span class="p">{</span><span class="na">value</span> <span class="p">:</span> <span class="s1">'Learn React'</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}</span>
      <span class="p">]</span>
  <span class="p">},</span>

  <span class="na">renderTasks</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">loadTasks</span><span class="p">().</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">task</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">Task</span>
        <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">index</span><span class="p">}</span>
        <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">task</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span>
        <span class="nx">done</span><span class="o">=</span><span class="p">{</span><span class="nx">task</span><span class="p">.</span><span class="nx">done</span><span class="p">}</span>
      <span class="sr">/&gt; </span><span class="err">)
</span>    <span class="p">});</span>

    <span class="k">return</span> <span class="nx">todos</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"col-xs-6 col-xs-offset-3 todo-list"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"title"</span><span class="o">&gt;</span><span class="nx">My</span> <span class="nx">Awesome</span> <span class="nx">TodoList</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderTasks</span><span class="p">()}</span>
      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>

<span class="p">});</span></code></pre></figure><p>Um ponto interessante sobre o React, é que todo componente filho na composição (aquele que ira se repetir N vezes) deve receber uma chave <strong>key</strong> que seja única e fácil de identificar.</p><p>Você pode ler mais sobre isso <a href="https://facebook.github.io/react/docs/multiple-components.html#dynamic-children">aqui</a>.</p><p>Também vale ressaltar que utilizei um método do componente para renderizar a lista de tasks usando <code class="highlighter-rouge"><span class="p">{</span><span class="err">this.renderTasks()</span><span class="p">}</span></code>.</p><p>Por fim vamos criar nosso componente <code class="highlighter-rouge">Task</code>:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/** @jsx React.DOM */</span>

<span class="kd">var</span> <span class="nx">Task</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>

  <span class="na">updateTodoClass</span> <span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">done</span><span class="p">)</span> <span class="p">?</span> <span class="s1">'task task-success'</span> <span class="p">:</span> <span class="s1">'task task-info'</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">updateTodoClass</span><span class="p">()}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">i</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"fa fa-check mark-done"</span><span class="o">&gt;&lt;</span><span class="sr">/i</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">i</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"fa fa-times close"</span><span class="o">&gt;&lt;</span><span class="sr">/i</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>

<span class="p">});</span></code></pre></figure><p>Perceba que inserimos a classe CSS do componente com o método <code class="highlighter-rouge">updateTodoClass</code> baseado na propriedade <code class="highlighter-rouge">done</code> que passamos como parametro, mas a titulo de curiosidade isso também poderia ser passado como propriedade vindo do componente pai.</p><p>Ok, tudo bonito, funciona e tudo mais. Mas e quanto aos eventos?</p><p>Perceba que temos dois icones em nosso componente <code class="highlighter-rouge">Task</code>, sendo um <code class="highlighter-rouge">mark-done</code> que ira alterar o estado da task e <code class="highlighter-rouge">close</code> que ira remover a task da nossa lista.</p><p>Como disse anteriormente, a regra dos componentes seguem <strong>top-down</strong>, logo um componente não tem que ter essa lógica, ele precisa fazer uma coisa e fazer bem feita, que é renderizar o componente, logo vamos passar como argumentos para nosso componente os métodos <code class="highlighter-rouge">markTaskDone</code> e <code class="highlighter-rouge">removeTask</code> que serão criamos posteriormente no componente pai.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/** @jsx React.DOM */</span>

<span class="kd">var</span> <span class="nx">Task</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="cm">/* ... */</span>
  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">updateTodoClass</span><span class="p">()}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">i</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"fa fa-check mark-done"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">markTaskDone</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="sr">/i</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">i</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"fa fa-times close"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">removeTask</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="sr">/i</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>

  <span class="cm">/* ... */</span></code></pre></figure><p>Agora a implementação dos métodos no <code class="highlighter-rouge">TodoList</code>, mas agora utilizando <strong>state</strong> para armazenar nossos <strong>todos</strong>:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/** @jsx React.DOM */</span>

<span class="kd">var</span> <span class="nx">TodoList</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="cm">/* ... */</span>
  <span class="na">getInitialState</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">{</span>
      <span class="na">todos</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">loadTasks</span><span class="p">()</span>
    <span class="p">};</span>
  <span class="p">},</span>

  <span class="na">markTaskDone</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">task</span> <span class="o">=</span> <span class="nx">todos</span><span class="p">[</span><span class="nx">index</span><span class="p">];</span>

    <span class="nx">todos</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
    <span class="nx">task</span><span class="p">.</span><span class="nx">done</span> <span class="o">=</span> <span class="o">!</span><span class="nx">task</span><span class="p">.</span><span class="nx">done</span><span class="p">;</span>

    <span class="nx">task</span><span class="p">.</span><span class="nx">done</span> <span class="p">?</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">task</span><span class="p">)</span> <span class="p">:</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">task</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="na">todos</span><span class="p">:</span> <span class="nx">todos</span>
    <span class="p">});</span>
  <span class="p">},</span>

  <span class="na">removeTask</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="na">todos</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">todos</span>
    <span class="p">});</span>
  <span class="p">},</span>

  <span class="na">renderTasks</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">loadTasks</span><span class="p">().</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">task</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">Task</span>
        <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">index</span><span class="p">}</span>
        <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">task</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span>
        <span class="nx">done</span><span class="o">=</span><span class="p">{</span><span class="nx">task</span><span class="p">.</span><span class="nx">done</span><span class="p">}</span>
        <span class="nx">markTaskDone</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">markTaskDone</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">index</span><span class="p">)}</span>
        <span class="nx">removeTask</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">removeTask</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">index</span><span class="p">)}</span>
      <span class="sr">/&gt; </span><span class="err">)
</span>    <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>

    <span class="k">return</span> <span class="nx">todos</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="cm">/* ... */</span></code></pre></figure><p>Pronto, agora todos os elementos funcionam, já que além de passarmos como parametro para o elemento <code class="highlighter-rouge">Task</code>, também fizemos <code class="highlighter-rouge">.bind()</code> da chave/index do elemento para nossa função. Agora ta fácil ;)</p><p>Por fim precisamos adicionar uma nova task certo? Nada mais justo do que criarmos um componente que é especializado em fazer apenas isso. Vamos chama-lo de <code class="highlighter-rouge">TaskInput</code>:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/** @jsx React.DOM */</span>

<span class="kd">var</span> <span class="nx">TaskInput</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>

  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"form-group col-xs-8 col-xs-offset-2 task-input"</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">addTask</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"input-group"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text"</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"task"</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">inputValue</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"form-control"</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s2">"Todo..."</span> <span class="nx">autocomplete</span><span class="o">=</span><span class="s2">"off"</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">triggerChange</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="s1">'input-group-btn'</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="s1">'btn btn-primary'</span><span class="o">&gt;</span><span class="nx">Add</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>

<span class="p">});</span></code></pre></figure><p>Pronto, nosso elemento <code class="highlighter-rouge">TaskInput</code> recebe como propriedades:</p><ul><li><code class="highlighter-rouge">inputValue</code>: Que é o valor default do nosso input;</li><li><code class="highlighter-rouge">addTask</code>: Que é disparado no evento <code class="highlighter-rouge">onSubmit</code> de nosso formulário;</li><li><code class="highlighter-rouge">triggerChange</code>: Que é disparado toda vez que o valor do nosso input muda.</li></ul><p>Por fim, vamos criar esses médotos em nosso componente <code class="highlighter-rouge">TodoList</code> e também adicionar no <code class="highlighter-rouge">render</code> o nosso <code class="highlighter-rouge">TaskInput</code>:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/** @jsx React.DOM */</span>

<span class="kd">var</span> <span class="nx">TaskInput</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="cm">/* ... */</span>
  <span class="na">getInitialState</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">{</span>
      <span class="na">todos</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">loadTasks</span><span class="p">(),</span>
      <span class="na">inputValue</span><span class="p">:</span> <span class="s1">''</span>
    <span class="p">};</span>
  <span class="p">},</span>

  <span class="na">triggerChange</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="na">inputValue</span><span class="p">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span>
    <span class="p">});</span>
  <span class="p">},</span>

  <span class="na">addTask</span> <span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">;</span>

    <span class="nx">todos</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
      <span class="na">value</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">inputValue</span><span class="p">,</span>
      <span class="na">done</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">});</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="na">todos</span><span class="p">:</span> <span class="nx">todos</span><span class="p">,</span>
      <span class="na">inputValue</span><span class="p">:</span> <span class="s1">''</span>
    <span class="p">})</span>
  <span class="p">},</span>

  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"col-xs-6 col-xs-offset-3 todo-list"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"title"</span><span class="o">&gt;</span><span class="nx">My</span> <span class="nx">Awesome</span> <span class="nx">TodoList</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderTasks</span><span class="p">()}</span>
        <span class="o">&lt;</span><span class="nx">TaskInput</span>
        <span class="nx">inputValue</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">inputValue</span><span class="p">}</span>
        <span class="nx">addTask</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">addTask</span><span class="p">}</span>
        <span class="nx">triggerChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">triggerChange</span><span class="p">}</span>
        <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>
  <span class="cm">/* ... */</span></code></pre></figure><p>É isso, <code class="highlighter-rouge">triggerChange</code> atualiza o <strong>state</strong> <code class="highlighter-rouge">inputValue</code> e <code class="highlighter-rouge">addTask</code> além de interromper a ação default do formulário, também adiciona uma nova task a lista de <strong>todos</strong> e por fim atualiza o <strong>state</strong>.</p><p><a href="https://jsbin.com/xiyuxaqege/edit?output">Veja este exemplo aqui</a>.</p><h2 id="conclusão">Conclusão</h2><p>Agora que apresentei o básico do funcionamento do React, você pode começar a estudar mais a fundo e fazer pequenos projetos pra colocar a mão na massa. Tudo dando certo vou postar um pouco mais sobre React, mas não vou parar de falar sobre Angular, podem ficar tranquilos =)</p><p>Você também pode dar uma olhada no <a href="https://github.com/rafaell-lycan/estudos-react">meu repositório</a> do que fiz enquanto estudava React e outras drogas.</p></div><section class="share"><h3>Share this post</h3><ul class="social-list"><li class="social-list__item facebook hint--bottom" data-hint="Share on Facebook"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://rafaell-lycan.com/2015/comecando-com-react/" target="share"> <span class="social-list__text">Like</span> </a></li><li class="social-list__item twitter hint--bottom" data-hint="Share on Twitter"> <a href="https://twitter.com/share?text=Começando com React.js&amp;url=https://rafaell-lycan.com/2015/comecando-com-react/" target="share"> <span class="social-list__text">Tweet</span> </a></li><li class="social-list__item gplus hint--bottom" data-hint="Share on Google Plus"> <a href="https://plus.google.com/share?url=https://rafaell-lycan.com/2015/comecando-com-react/" target="share"> <span class="social-list__text">+1</span> </a></li></ul></section><section class="related"><h3 class="related__title">Referências</h3><ul class="default-list"><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://facebook.github.io/react/docs/getting-started.html" title="React Docs - Getting Started" target="_blank"> <span itemprop="name">React Docs - Getting Started</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://www.jackcallister.com/2015/01/05/the-react-quick-start-guide.html" title="The React Quick Start Guide" target="_blank"> <span itemprop="name">The React Quick Start Guide</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://www.youtube.com/watch?v=z5e7kWSHWTg" title="React.js Conf 2015 - Hype!" target="_blank"> <span itemprop="name">React.js Conf 2015 - Hype!</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://code.tutsplus.com/tutorials/intro-to-the-react-framework--net-35660" title="Intro to the React Framework" target="_blank"> <span itemprop="name">Intro to the React Framework</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://tutorialzine.com/2014/07/5-practical" title="5 Practical Examples For Learning The React Framework" target="_blank"> <span itemprop="name">5 Practical Examples For Learning The React Framework</span> </a></li></ul></section><div class="comments"><div id="disqus_thread"></div></div><script> if (window.location.hostname !== 'localhost') { var disqus_shortname = 'rafaelllycan'; var disqus_identifier = '/2015/comecando-com-react'; var disqus_config = function () { this.page.url = 'https://rafaell-lycan.com/2015/comecando-com-react/'; this.page.identifier = '/2015/comecando-com-react'; }; (function() { var d = document, s = d.createElement('script'); s.src = '//' + disqus_shortname + '.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); s.async = true; (d.head || d.body).appendChild(s); })(); } </script></article><footer class="footer"><p> Made with <a href="https://jekyllrb.com/" target="_blank" class=" externalLink">Jekyll</a> and <span class="love">♥</span> by Rafaell Lycan.</p></footer></main><script async src="/assets/js/main.min.js"></script>  <script> !function(v,i,n,k,l,a){v.GoogleAnalyticsObject=n;v[n]||(v[n]=function(){ (v[n].q=v[n].q||[]).push(arguments)});v[n].l=+new Date;l=i.createElement(k); a=i.getElementsByTagName(k)[0];l.src='https://google-analytics.com/analytics.js'; a.parentNode.insertBefore(l,a)}(window,document,'ga','script'); ga('create', 'UA-16383035-5', 'auto'); ga('require', 'displayfeatures'); ga('send', 'pageview'); </script></body></html>
