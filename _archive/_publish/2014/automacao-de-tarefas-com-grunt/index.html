<!DOCTYPE html><html lang="pt-BR" dir="ltr"><head><meta charset="utf-8"><title>Automação de tarefas com Grunt.js – Rafaell Lycan</title><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"> <meta name="apple-mobile-web-app-capable" content="yes"><link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <meta name="description" content="Já imaginou poder automatizar tarefas simples como concatenar arquivos, minificar, testar e até mesmo atualizar o navegador a cada Ctrl+S? Conheça o Grunt.js. "><meta name="keywords" content="grunt js, automação front-end, tools, ferramentas front-end"><meta name="author" content="Rafaell Lycan - https://rafaell-lycan.com"/><meta name="reply-to" content="sonny.webdsg@gmail"/><link rel="canonical" href="https://rafaell-lycan.com/2014/automacao-de-tarefas-com-grunt/"><link rel="alternate" type="application/rss+xml" href="https://feeds.feedburner.com/rafaell-lycan" title="Rafaell Lycan RSS Feed"><link rel="dns-prefetch" href="//google-analytics.com"><link rel="dns-prefetch" href="//www.google-analytics.com"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel='dns-prefetch' href='//s2.getsmartlook.com'><link rel='dns-prefetch' href='//rec.getsmartlook.com'><link rel="preconnect" href="//google-analytics.com" crossorigin /><link rel="preconnect" href="//www.google-analytics.com" crossorigin /><link rel="preconnect" href="//fonts.googleapis.com" crossorigin /><link rel='preconnect' href='//s2.getsmartlook.com' crossorigin><link rel='preconnect' href='//rec.getsmartlook.com' crossorigin> <meta name="google-site-verification" content="x08xUXYXTQWjHPyl9M_w5VIF07UWLSi0XUTxxCSS7rQ" /><meta name="robots" content="index, follow"><meta name="HandheldFriendly" content="True" /><meta name="MobileOptimized" content="320" /><meta name="mobile-web-app-capable" content="yes"><link rel="manifest" href="/manifest.json"><link rel="icon" sizes="192x192" href="/assets/img/icon-192x192.png"><link rel="icon" sizes="144x144" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon" sizes="128x128" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="128x128" href="/assets/img/icon-144x144.png"> <meta property="og:locale" content="pt_BR"><meta property="og:type" content=" article "><meta property="og:title" content="Automação de tarefas com Grunt.js – Rafaell Lycan"><meta property="og:url" content="https://rafaell-lycan.com/2014/automacao-de-tarefas-com-grunt/"><meta property="og:image" content="https://rafaell-lycan.com/assets/img/posts/automacao-de-tarefas-com-grunt.jpg"><meta property="og:description" content="Já imaginou poder automatizar tarefas simples como concatenar arquivos, minificar, testar e até mesmo atualizar o navegador a cada Ctrl+S? Conheça o Grunt.js. "><meta property="og:site_name" content="Hi there, I'm Rafaell"><meta property="article:publisher" content="https://www.facebook.com/rafaell.lycan"> <meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://rafaell-lycan.com/2014/automacao-de-tarefas-com-grunt/"><meta name="twitter:title" content="Automação de tarefas com Grunt.js – Rafaell Lycan"><meta name="twitter:image" content="https://rafaell-lycan.com/assets/img/posts/automacao-de-tarefas-com-grunt.jpg"><meta name="twitter:description" content="Já imaginou poder automatizar tarefas simples como concatenar arquivos, minificar, testar e até mesmo atualizar o navegador a cada Ctrl+S? Conheça o Grunt.js. "><meta name="twitter:creator" content="@RafaellLycan"><meta property="twitter:account_id" content="50549691"> <script type="text/javascript"> if (window.location.hostname !== 'localhost') { window.smartlook||(function(d) { var o=smartlook=function(){ o.api.push(arguments)},s=d.getElementsByTagName('script')[0]; var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript'; c.charset='utf-8';c.src='//rec.getsmartlook.com/bundle.js';s.parentNode.insertBefore(c,s); })(document); smartlook('init', '71b434ed5cffc14b8ccad3c50573871bcb972ef9'); } </script><link rel="stylesheet" href="/assets/css/style.css" media="all"></head><body><main class="wrap"><header class="header"><div class="container"><div class="author"> <a href="/"> <img src="/assets/img/rafaell-lycan.jpg" alt="Rafaell Lycan profile picture" title="Back to home" class="author__avatar"> </a></div><nav class="menu-list menu-list--inline"><ul class="default-list"><li class="menu-list__item"><a href="/about">About me</a></li><li class="menu-list__item"><a href="/">Blog</a></li> </ul></nav></div></header><article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting"><header class="blog-post__header"><h1 class="blog-post__title" itemprop="headline">Automação de tarefas com Grunt.js</h1><div class="blog-post__meta"> <span>This post is filed under</span> <a class="h6 post-tag" href="/tags#produtividade">produtividade</a>, <a class="h6 post-tag" href="/tags#tools">tools</a> <span> • Published</span> <time class="h6" datetime="2014-02-14T00:00:00+01:00" itemprop="datePublished">14 Feb 2014</time> <span> • Reading time 5 min </span></div><figure class="blog-post__banner"> <img src="/assets/img/posts/automacao-de-tarefas-com-grunt.jpg" alt="Automação de tarefas com Grunt.js" title="Automação de tarefas com Grunt.js" itemprop="thumbnailUrl"></figure><p class="hidden" itemprop="keywords">grunt js, automação front-end, tools, ferramentas front-end</p></header><div class="blog-post__content"><p>A maioria dos desenvolvedores front-end já utilizam algum tipo de processo de construção para em seus projetos, mesmo sem saber.</p><p>Quando estamos desenvolvendo é normal procurarmos ferramentas que facilitem nosso trabalho, e todo desenvolvedor front-end precisa concatenar e minificar arquivos CSS e JavaScript, checar a qualidade do seu código JavaScript (<a href="http://www.jshint.com/">JSLint</a>/<a href="http://www.jslint.com/">JSHint</a>) e até mesmo testa-lo antes do “build” afim de seguir as boas práticas para performance de sites, e percebemos que esses processos se repetem.</p><p>A questão é: Você vai precisar juntar os arquivos, depois concatenar, provavelmente você deve estar utilizando algum pré-processador entre outras coisas que colocam a prova a nossa sanidade? É ai que precisamos pensar em automatização.</p><h2 id="porque-automatizar">Porque automatizar?</h2><p>Automação é a <strong>aplicação de técnicas</strong> computadorizadas ou mecânicas para <strong>diminuir o uso de mão-de-obra</strong> em qualquer processo, especialmente o uso de robôs nas linhas de produção.</p><p>Em desenvolvimento de software automação é o processo de escrita de um programa de computador para executar uma série de tarefas automaticamente. <br /> Estas tarefas servem desde para a <strong>garantia do funcionamento</strong> como para a <strong>performance</strong> de um software.</p><p>Desde o surgimento do HTML5, construir aplicações web ficou mais complexo, performance virou fator crucial com pacote do código fonte já testado e otimizado.</p><p>A complexidade não está só nas linguagens, que evoluíram muito nos últimos anos, mas também na diversidade de dispositivos para acessar a internet, que aumentaram rapidamente (e tendem a continuar…).</p><p>No meu caso, algumas tarefas que são “padrão” em todo o projeto são:</p><ul><li>Concatenar e comprimir os arquivos CSS e JavaScript;</li><li>CSS Pré-processado (<a href="http://sass-lang.com/">Sass</a> e <a href="http://lesscss.org/">Less</a>);</li><li>Testes de JavaScript (<a href="http://jasmine.github.io/">Jasmine</a>);</li><li>Validar qualidade do código (JSHint);</li></ul><p>Uso até mesmo no meu blog esse padrão de tarefas, acho que é o minimo, mas fazer isso na “unha” é insano. Antes eu utilizava o <a href="https://incident57.com/codekit/">CodeKit</a> para compilar <a href="https://rafaell-lycan.com/2013/css-dinamico-com-less/">LESS</a> e JavaScript, já hoje vejo que não preciso mais ficar dependendo de ferramentas gráficas.</p><h2 id="grunt">Grunt</h2><p>O <a href="http://gruntjs.com/">Grunt</a> é uma ferramenta automação de tarefas (Task Runner) feita totalmente em JavaScript. A grande vantagem de se usar o Grunt ao meu ver é a grande quantidade de plugins disponíveis.</p><h2 id="começando">Começando</h2><p>O Grunt é baseado no Node.js, você vai ter que instala-lo primeiro. Para utilizarmos precisamos instalar o pacote <code class="highlighter-rouge">grunt-cli</code> através do <a href="https://npmjs.org/">NPM</a> (Node Package Manager).</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>npm install grunt-cli -g</code></pre></figure><p>A flag <code class="highlighter-rouge">-g</code> irá disponibilizar o comando <code class="highlighter-rouge">grunt</code> globalmente no seu ambiente.</p><p>Depois precisamos criar um arquivo <strong>package.json</strong> onde iremos colocar as configurações do projeto bem como as dependencias.</p><figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grunt"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.1"</span><span class="w">
</span><span class="p">}</span></code></pre></figure><p>Agora a cada plugin que você precisar durante seu workflow, basta instalar via NPM e utilizar a flag <code class="highlighter-rouge">--save-dev</code>.</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>npm install grunt-contrib-less --save-dev</code></pre></figure><figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grunt"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.1"</span><span class="w">
  </span><span class="s2">"devDependencies"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"grunt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"grunt-contrib-less"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure><p>Você pode encontrar uma lista completa de plugins disponíveis no <a href="http://gruntjs.com/plugins">site oficial</a>.</p><p>Agora precisamos criar o arquivo <strong>Gruntfile.js</strong> que nada mais é do que o arquivo de configuração das tasks do projeto.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">grunt</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Configuração de tasks</span>
  <span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">({</span>
      <span class="na">less</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">options</span><span class="p">:</span> <span class="p">{</span> <span class="c1">// Configurações opcionais</span>
          <span class="na">compress</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">// Minifica o arquivo css</span>
        <span class="p">},</span>
        <span class="na">files</span><span class="p">:</span> <span class="p">{</span> <span class="c1">// Destino &lt;- Origem</span>
          <span class="s1">'css/main.css'</span><span class="p">:</span> <span class="s1">'src/main.less'</span>
        <span class="p">}</span>
      <span class="p">}</span>
  <span class="p">});</span>

  <span class="c1">// Carrega plugins para o grunt</span>
  <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s2">"grunt-contrib-less"</span><span class="p">);</span>
<span class="p">};</span></code></pre></figure><p>Agora podemos compilar nossos arquivos <a href="https://rafaell-lycan.com/2013/css-dinamico-com-less/">LESS</a> através do comando:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>grunt less</code></pre></figure><p>É claro que ficaria chato rodar task por task, imagine com o tempo a quantidade de tarefas que teriamos? Para isso registramos novas tarefas com a função <code class="highlighter-rouge">grunt.registerTask</code>. É comum registrar uma tarefa <code class="highlighter-rouge">default</code> quando não passamos nenhuma tarefa.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// Carrega plugins para o grunt</span>
  <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s2">"grunt-contrib-less"</span><span class="p">);</span>
  <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s2">"grunt-contrib-jshint"</span><span class="p">);</span>
  <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s2">"grunt-contrib-uglify"</span><span class="p">);</span>

  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s2">"default"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"jshint"</span><span class="p">,</span> <span class="s2">"uglify"</span><span class="p">,</span> <span class="s2">"less"</span><span class="p">]);</span>
  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s2">"js"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"jshint"</span><span class="p">,</span> <span class="s2">"uglify"</span><span class="p">]);</span>
<span class="p">};</span></code></pre></figure><p>E agora podemos simplesmente rodar o comando <code class="highlighter-rouge">grunt</code> ou <code class="highlighter-rouge">grunt js</code>.</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>grunt</code></pre></figure><p>Espero que essa ferramenta lhe traga agilidade e te ajude em seu workflow. Caso seu arquivo de configuração fique muito grande, separe as configurações por arquivos exportando os módulos e utilizando require.</p></div><section class="share"><h3>Share this post</h3><ul class="social-list"><li class="social-list__item facebook hint--bottom" data-hint="Share on Facebook"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://rafaell-lycan.com/2014/automacao-de-tarefas-com-grunt/" target="share"> <span class="social-list__text">Like</span> </a></li><li class="social-list__item twitter hint--bottom" data-hint="Share on Twitter"> <a href="https://twitter.com/share?text=Automação de tarefas com Grunt.js&amp;url=https://rafaell-lycan.com/2014/automacao-de-tarefas-com-grunt/" target="share"> <span class="social-list__text">Tweet</span> </a></li><li class="social-list__item gplus hint--bottom" data-hint="Share on Google Plus"> <a href="https://plus.google.com/share?url=https://rafaell-lycan.com/2014/automacao-de-tarefas-com-grunt/" target="share"> <span class="social-list__text">+1</span> </a></li></ul></section><section class="related"><h3 class="related__title">Referências</h3><ul class="default-list"><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://www.youtube.com/watch?v=bntNYzCrzvE" title="Grunt JavaScript Automation for the Lazy Developer" target="_blank"> <span itemprop="name">Grunt JavaScript Automation for the Lazy Developer</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://gruntjs.com/getting-started" title="Grunt – Getting Started" target="_blank"> <span itemprop="name">Grunt – Getting Started</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://code.tutsplus.com/tutorials/meeting-grunt-the-build-tool-for-javascript--net-24856" title="Meet Grunt - The Build Tool for JavaScript" target="_blank"> <span itemprop="name">Meet Grunt - The Build Tool for JavaScript</span> </a></li></ul></section><div class="comments"><div id="disqus_thread"></div></div><script> if (window.location.hostname !== 'localhost') { var disqus_shortname = 'rafaelllycan'; var disqus_identifier = '/2014/automacao-de-tarefas-com-grunt'; var disqus_config = function () { this.page.url = 'https://rafaell-lycan.com/2014/automacao-de-tarefas-com-grunt/'; this.page.identifier = '/2014/automacao-de-tarefas-com-grunt'; }; (function() { var d = document, s = d.createElement('script'); s.src = '//' + disqus_shortname + '.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); s.async = true; (d.head || d.body).appendChild(s); })(); } </script></article><footer class="footer"><p> Made with <a href="https://jekyllrb.com/" target="_blank" class=" externalLink">Jekyll</a> and <span class="love">♥</span> by Rafaell Lycan.</p></footer></main><script async src="/assets/js/main.min.js"></script>  <script> !function(v,i,n,k,l,a){v.GoogleAnalyticsObject=n;v[n]||(v[n]=function(){ (v[n].q=v[n].q||[]).push(arguments)});v[n].l=+new Date;l=i.createElement(k); a=i.getElementsByTagName(k)[0];l.src='https://google-analytics.com/analytics.js'; a.parentNode.insertBefore(l,a)}(window,document,'ga','script'); ga('create', 'UA-16383035-5', 'auto'); ga('require', 'displayfeatures'); ga('send', 'pageview'); </script></body></html>
