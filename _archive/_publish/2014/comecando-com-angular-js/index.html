<!DOCTYPE html><html lang="pt-BR" dir="ltr"><head><meta charset="utf-8"><title>Começando com Angular.JS – Rafaell Lycan</title><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"> <meta name="apple-mobile-web-app-capable" content="yes"><link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <meta name="description" content="Alguns meses estudando Angular.js e finalmente depois de começar um projeto utilizando-o, apresento a vocês os conceitos básicos do framework e como é fácil criar aplicações utilizando toda a simplicidade e melhorando nosso workflow. "><meta name="keywords" content="desenvolvedor, front end, back end, developer, php, javascript, node, laravel, angular, react, software"><meta name="author" content="Rafaell Lycan - https://rafaell-lycan.com"/><meta name="reply-to" content="sonny.webdsg@gmail"/><link rel="canonical" href="https://rafaell-lycan.com/2014/comecando-com-angular-js/"><link rel="alternate" type="application/rss+xml" href="https://feeds.feedburner.com/rafaell-lycan" title="Rafaell Lycan RSS Feed"><link rel="dns-prefetch" href="//google-analytics.com"><link rel="dns-prefetch" href="//www.google-analytics.com"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel='dns-prefetch' href='//s2.getsmartlook.com'><link rel='dns-prefetch' href='//rec.getsmartlook.com'><link rel="preconnect" href="//google-analytics.com" crossorigin /><link rel="preconnect" href="//www.google-analytics.com" crossorigin /><link rel="preconnect" href="//fonts.googleapis.com" crossorigin /><link rel='preconnect' href='//s2.getsmartlook.com' crossorigin><link rel='preconnect' href='//rec.getsmartlook.com' crossorigin> <meta name="google-site-verification" content="x08xUXYXTQWjHPyl9M_w5VIF07UWLSi0XUTxxCSS7rQ" /><meta name="robots" content="index, follow"><meta name="HandheldFriendly" content="True" /><meta name="MobileOptimized" content="320" /><meta name="mobile-web-app-capable" content="yes"><link rel="manifest" href="/manifest.json"><link rel="icon" sizes="192x192" href="/assets/img/icon-192x192.png"><link rel="icon" sizes="144x144" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon" sizes="128x128" href="/assets/img/icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="128x128" href="/assets/img/icon-144x144.png"> <meta property="og:locale" content="pt_BR"><meta property="og:type" content=" article "><meta property="og:title" content="Começando com Angular.JS – Rafaell Lycan"><meta property="og:url" content="https://rafaell-lycan.com/2014/comecando-com-angular-js/"><meta property="og:image" content="https://rafaell-lycan.com/assets/img/posts/comecando-com-angular.jpg"><meta property="og:description" content="Alguns meses estudando Angular.js e finalmente depois de começar um projeto utilizando-o, apresento a vocês os conceitos básicos do framework e como é fácil criar aplicações utilizando toda a simplicidade e melhorando nosso workflow. "><meta property="og:site_name" content="Hi there, I'm Rafaell"><meta property="article:publisher" content="https://www.facebook.com/rafaell.lycan"> <meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://rafaell-lycan.com/2014/comecando-com-angular-js/"><meta name="twitter:title" content="Começando com Angular.JS – Rafaell Lycan"><meta name="twitter:image" content="https://rafaell-lycan.com/assets/img/posts/comecando-com-angular.jpg"><meta name="twitter:description" content="Alguns meses estudando Angular.js e finalmente depois de começar um projeto utilizando-o, apresento a vocês os conceitos básicos do framework e como é fácil criar aplicações utilizando toda a simplicidade e melhorando nosso workflow. "><meta name="twitter:creator" content="@RafaellLycan"><meta property="twitter:account_id" content="50549691"> <script type="text/javascript"> if (window.location.hostname !== 'localhost') { window.smartlook||(function(d) { var o=smartlook=function(){ o.api.push(arguments)},s=d.getElementsByTagName('script')[0]; var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript'; c.charset='utf-8';c.src='//rec.getsmartlook.com/bundle.js';s.parentNode.insertBefore(c,s); })(document); smartlook('init', '71b434ed5cffc14b8ccad3c50573871bcb972ef9'); } </script><link rel="stylesheet" href="/assets/css/style.css" media="all"></head><body><main class="wrap"><header class="header"><div class="container"><div class="author"> <a href="/"> <img src="/assets/img/rafaell-lycan.jpg" alt="Rafaell Lycan profile picture" title="Back to home" class="author__avatar"> </a></div><nav class="menu-list menu-list--inline"><ul class="default-list"><li class="menu-list__item"><a href="/about">About me</a></li><li class="menu-list__item"><a href="/">Blog</a></li> </ul></nav></div></header><article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting"><header class="blog-post__header"><h1 class="blog-post__title" itemprop="headline">Começando com Angular.JS</h1><div class="blog-post__meta"> <span>This post is filed under</span> <a class="h6 post-tag" href="/tags#angular">angular</a> <span> • Published</span> <time class="h6" datetime="2014-08-16T00:00:00+02:00" itemprop="datePublished">16 Aug 2014</time> <span> • Reading time 15 min </span></div><figure class="blog-post__banner"> <img src="/assets/img/posts/comecando-com-angular.jpg" alt="Começando com Angular.JS" title="Começando com Angular.JS" itemprop="thumbnailUrl"></figure><p class="hidden" itemprop="keywords"></p></header><div class="blog-post__content"><p><strong><a href="http://backbonejs.org/">Angular.js</a></strong> é o mais novo framework do time de desenvolvimento do Google para a criação de SPA’s (Single Page Applications) de maneira simplificada.</p><p>Confesso que sair de <strong><a href="https://angularjs.org/">Backbone.js</a></strong> e ir para um framework com um paradigma totalmente diferente foi uma completa bagunça no inicio, mas depois de um tempo e tendo prazos para entregar um projeto, achei o resultado muito bom.</p><h2 id="o-hello-world-obrigatório">O Hello World Obrigatório</h2><p>Vamos criar um arquivo <code class="highlighter-rouge">index.html</code> onde vamos rodar a nossa aplicação.</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html</span> <span class="na">ng-app</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Hello Angular<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.angularjs.org/1.2.6/angular.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure><p>Isso é tudo o que precisamos para começar uma aplicação utilizando <strong>AngularJS</strong> de fato adicionando o script e claro a <strong>diretiva</strong> <strong><em>ng-app</em></strong>. No Angular quase tudo é encapsulado nessas chamadas diretivas, que nada mais são do que <strong>syntax sugar</strong> para dar poder ao vocabulário HTML. Ao declarar a propriedade <strong>ng-app</strong> estamos informando ao Angular que nossa aplicação será iniciada a partir daquele ponto da página, como se fosse a raiz da aplicação.</p><p>Uma Dica é que tudo o que formos utilizar a partir de agora, usaremos as tais <strong>diretivas</strong> para informar ou declarar algo para o framework.</p><p>Eu comecei vendo exemplos como este, e quero mostrar que sem escrever nenhum código JavaScript em nossa página, é possível ter um exemplo simples de como o Angular trabalha.</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html</span> <span class="na">ng-app</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Hello Angular<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.angularjs.org/1.2.6/angular.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">ng-model=</span><span class="s">"nome"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;p&gt;</span>Olá {{ nome }}<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure><p>Perceba que não foi escrito nenhuma linha de JavaScript até agora, e já conseguimos ter um texto que responde ao conteúdo digitado no nosso input.</p><p>Em partes o <strong>ng-model</strong> é uma outra diretiva utilizada como atributos em elementos e esta esta diretamente plugada a uma propriedade (nesse caso <em>nome</em>) através do que é chamado <strong>two-way binding</strong>. A parte onde vemos as chaves <strong>{{ }}</strong> é chamado de expressões angular ou <strong>angular expressions</strong>.</p><p>Você pode ver este exemplo rodando <strong><a href="http://jsfiddle.net/5mfL4zfz/">aqui</a></strong>, apenas ignore a falta do cabeçalho que foi retirada para não dar conflito no JsFiddle.</p><p>Agora chega de coisinhas simples, vamos ao que realmente interessa. Que tal criarmos uma estrutura inicial de um projeto de Todo List e vamos vendo como fazer as coisas passo a passo.</p><h2 id="estrutura-inicial">Estrutura Inicial</h2><p>Bem, como o projeto é de uma TodoList, vamos começar com um markup inicial bem simples, neste caso vou utilizar o <strong><a href="http://getbootstrap.com/">Bootstrap</a></strong> apenas para o visual não ficar simples de mais, mas sinta-se a vontade para escrever sua própria interface, o importante aqui é mostrar como as coisas podem ser realmente simples desenvolvendo com Angular.js.</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html</span> <span class="na">ng-app</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Todo List<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.angularjs.org/1.2.6/angular.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-8 offset-2"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"center"</span><span class="nt">&gt;</span>TodoList<span class="nt">&lt;/h1&gt;</span>
          <span class="nt">&lt;form</span> <span class="na">class=</span><span class="s">"add-form"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;label&gt;</span>What you want todo?<span class="nt">&lt;/label&gt;</span>
              <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"task"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"Put something..."</span> <span class="na">required=</span><span class="s">"required"</span> <span class="nt">/&gt;</span> <span class="nt">&lt;br/&gt;</span>
              <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-block btn-success"</span><span class="nt">&gt;</span>Add Task<span class="nt">&lt;/button&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/form&gt;</span>
          <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"list-container"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;li&gt;</span>
              <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span><span class="nt">/&gt;</span> Task Name
            <span class="nt">&lt;/li&gt;</span>
          <span class="nt">&lt;/ul&gt;</span>
          <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-block btn-danger"</span><span class="nt">&gt;</span>Delete Completed Tasks<span class="nt">&lt;/button&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure><p>Bem, para sair da mesmisse e não ficar preso apenas ao guide-line do Bootstrap, também escrevi algum CSS para esse exemplo, mas nada que vá resolver os problemas do mundo.</p><figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">body</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#eee</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#333</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">h1</span><span class="p">{</span>
  <span class="nl">text-transform</span><span class="p">:</span> <span class="nb">uppercase</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#ddd</span><span class="p">;</span>
  <span class="nl">text-shadow</span><span class="p">:</span> <span class="m">2px</span> <span class="m">2px</span> <span class="m">0</span> <span class="m">#ccc</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.container</span><span class="p">{</span>
  <span class="nl">margin-bottom</span><span class="p">:</span><span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.center</span><span class="p">{</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.add-form</span><span class="o">,</span> <span class="nc">.list-container</span><span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span><span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.list-container</span><span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">20px</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.list-container</span> <span class="nt">li</span><span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">dashed</span> <span class="m">#ddd</span><span class="p">;</span>
  <span class="nl">list-style</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.list-container</span> <span class="nt">li</span><span class="nd">:last-child</span><span class="p">{</span>
  <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.list-container</span> <span class="nt">input</span><span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">5px</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.completed</span><span class="p">{</span>
  <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">line-through</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span><span class="m">.8em</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#999</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.progress</span><span class="p">{</span>
  <span class="nl">max-height</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span><span class="m">20px</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure><p>Beleza! Agora que temos um visual mais OK para nosso formulário, chegou a hora da verdade <del>ou não</del>. Vamos escrever nossas primeiras linhas de código JavaScript.</p><h2 id="módulos">Módulos</h2><p>O Angular trabalha com a ideia módulos para definir uma parte da aplicação, mas esses módulos não tem nada haver com Models do <strong>modelo MVC</strong>, para definir um módulo precisamos informar dois parâmetros: O primeiro parametro é o <strong>nome do módulo</strong>; O segundo é um <strong>Array</strong> especificando as dependências do projeto. No nosso caso não temos nenhuma, então basta passar um array vazio.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'todoApp'</span><span class="p">,</span> <span class="p">[]);</span></code></pre></figure><p>Pronto, criamos nosso primeiro módulo, mas mesmo assim ainda falta informarmos em nossa aplicação que ele existe, se não, nada acontece, então a diretiva <strong>ng-app</strong> recebe ele como argumento.</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html</span> <span class="na">ng-app=</span><span class="s">"todoApp"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- Código omitido --&gt;</span></code></pre></figure><h2 id="controllers">Controllers</h2><p>Como toda aplicação baseada no conceito <strong>MVC</strong> temos nossos <strong>Controllers</strong>, com angular não é diferente pois ele tem o conceito de <strong>MVVM</strong> (Model-View-ViewModel) ou <strong>MVW</strong> (Model-View-Whatever) o que torna possível modularizar a aplicação da forma que quisermos. Mas enfim, vamos criar nosso primeiro controller com alguma lógica simples assumindo o comportamento e ações baseados em algumas coisas que temos em nosso HTML.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">'MainCtrl'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'$scope'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">todoList</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="s1">'Learn Angular'</span><span class="p">,</span> <span class="na">completed</span><span class="p">:</span> <span class="kc">false</span><span class="p">},</span>
        <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="s1">'Build a TodoList'</span><span class="p">,</span> <span class="na">completed</span><span class="p">:</span> <span class="kc">true</span><span class="p">}</span>
    <span class="p">];</span>

    <span class="nx">$scope</span><span class="p">.</span><span class="nx">addItem</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{}</span>

    <span class="nx">$scope</span><span class="p">.</span><span class="nx">deleteTasks</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}]);</span></code></pre></figure><p>Criamos nosso primeiro controller utilizando nossa variável <code class="highlighter-rouge">app</code>, depois utilizamos assim como na criação de módulos <code class="highlighter-rouge">.controller()</code> passando também dois parametros certo? O nome do nosso controller e depois um array com as dependencias? Séria isso?</p><p>Na verdade não necessariamente, eu poderia simplesmente ter passado a função com <strong>$scope</strong> como dependencia e tudo funcionaria normalmente, mas como somos desenvolvedores, gostamos de automatizar coisas e também gostamos de milisegundos de performance, provavelmente vamos minificar esse código certo? Pois bem, essa é uma técnica para evitar que plugins como o <strong><a href="https://github.com/mishoo/UglifyJS">Uglify</a></strong> troque o nome de nossas dependencias e faça tudo parar de funcionar (Sim, tudo passado por meio da função é uma dependencia do nosso controller), utilizamos essa técnica para informar o nome da <strong>dependencia</strong> e depois dar um <strong>apelido</strong> para ela quando passamos ela para a função.</p><p>Poderiamos ter um código assim:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">'SomeCtrl'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">DependencyOne</span><span class="p">,</span> <span class="nx">DependencyTwo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Seu código aqui</span>
<span class="p">});</span></code></pre></figure><p>Isso daria problema com a minificação o <strong>Uglify</strong> por exemplo, porque ele iria substituir o nome das dependências por outros menores. Então para evitar esse problema nós isolamos nossas dependencias dentro de um array, e como último parâmetro passamos uma função que irá utilizar essa <strong>injeção de dependencias</strong>.</p><p>Caso você use o <strong>Uglify</strong> o output sera algo assim:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">'SomeCtrl'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'$scope'</span><span class="p">,</span> <span class="s1">'DependencyOne'</span><span class="p">,</span> <span class="s1">'DependencyTwo'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Seu código aqui</span>
<span class="p">}]);</span></code></pre></figure><p>Entenderam o que quis dizer? Faça isso, tente sempre isolar suas dependencias dessa forma, isso vai lhe poupar trabalho.</p><p><em>Continuando…</em></p><p>Vamos analisar o código do nosso controller: Temos na injeção uma dependência chamada <strong>$scope</strong>. que no mundo Angular, é dependencia faz a <strong>ligação</strong> entre o <strong>Controller</strong> e a <strong>View</strong>. Lembra do exemplo de <strong>Hello World</strong>? Imagine que com um controller, poderiamos definir um valor padrão para nome, como por exemplo <em>“John”</em>, dessa forma teriamos um valor default em nossa view.</p><p>O conceito de $scope pode ser assustador no começo, mas ele é a sua conexão direta com o <strong>DOM</strong> para você poder inserir dados seja através de <strong>expressions</strong>, ou outras diretivas como a <strong>ng-model</strong> por exemplo.</p><p>Nesse caso eu apenas atribui uma propriedade chamada <strong>todoList</strong> que nada mais é do que um array com 2 objetos, e dois métodos para remover e adicionar items.</p><p>Tudo bem até aqui? Agora chegou a hora de utilizarmos nosso controller dentro em nossa página:</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Código omitido --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-8 offset-2"</span> <span class="na">ng-controller=</span><span class="s">"MainCtrl"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"center"</span><span class="nt">&gt;</span>TodoList<span class="nt">&lt;/h1&gt;</span>
    <span class="c">&lt;!-- Código omitido --&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="c">&lt;!-- Código omitido --&gt;</span></code></pre></figure><p>Pronto, agora aprendemos mais uma diretiva para definirmos onde começa o escopo do nosso controller que é a <strong>ng-controller</strong>. Eu digo escopo porque podemos ter mais de um controller em uma página, e isso é perfeitamente normal.</p><p>Agora que tal começarmos a descobrir mais diretivas e fazer as coisas a começarem a funcionar? Vamos começar pelo HTML:</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Código omitido --&gt;</span>
<span class="nt">&lt;form</span> <span class="na">class=</span><span class="s">"add-form"</span> <span class="na">ng-submit=</span><span class="s">"addItem()"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label&gt;</span>What you want todo?<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"task"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">ng-model=</span><span class="s">"task.name"</span> <span class="na">placeholder=</span><span class="s">"Put something..."</span> <span class="na">required=</span><span class="s">"required"</span> <span class="nt">/&gt;</span> <span class="nt">&lt;br/&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-block btn-success"</span><span class="nt">&gt;</span>Add Task<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/form&gt;</span>
<span class="c">&lt;!-- Código omitido --&gt;</span></code></pre></figure><p>Agora com poucas mudanças já temos duas diretivas, a <strong>ng-model</strong> que esta definindo um modelo de objeto que iremos mapear e também a diretiva <strong>ng-submit</strong> que recebe nosso método <code class="highlighter-rouge">addItem</code>. Essa diretiva faz apenas uma coisa: Habilita o bind do Angular no evento submit e evita o evento padrão de enviar o conteúdo do form e atualizar/recarregar a página atual desde que você não tenha atributos como <code class="highlighter-rouge">action</code>, <code class="highlighter-rouge">data-action</code> e outros atributos de ação. Em nosso caso dispara o método <code class="highlighter-rouge">addItem</code>.</p><p>Poderiamos passar algo como parametro ao enviar o form e capturar dentro do método, mas não achei necessario por hora. Vamos escrever mais código em nosso controller.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Código omitido</span>
<span class="kd">function</span> <span class="nx">Task</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">completed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">$scope</span><span class="p">.</span><span class="nx">task</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Task</span><span class="p">();</span>

<span class="nx">$scope</span><span class="p">.</span><span class="nx">addItem</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">todoList</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">task</span><span class="p">);</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">task</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Task</span><span class="p">();</span>
<span class="p">}</span>
<span class="c1">// Código omitido</span></code></pre></figure><p>Bem, apenas criei uma função construtora que me devolve um objeto do tipo <strong>Task</strong>, criei uma nova instância de Task na propriedade <code class="highlighter-rouge">task</code> do nosso $scope que agora esta ligado automaticamente com nossa diretiva <strong>ng-model</strong> no formulário. Também escrevi um código bem simples para inserir um novo item a nossa lista e depois resetando o valor padrão da propriedade <code class="highlighter-rouge">task</code> com uma nova instância de <strong>Task</strong>.</p><p>Agora que tal exibir nossas tasks?</p><h2 id="exibindo-nossas-tasks">Exibindo nossas Tasks</h2><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Código omitido --&gt;</span>
<span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"list-container"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">ng-repeat=</span><span class="s">"task in todoList"</span> <span class="na">ng-class=</span><span class="s">"{'completed': task.completed}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">ng-model=</span><span class="s">"task.completed"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
<span class="c">&lt;!-- Código omitido --&gt;</span></code></pre></figure><p>Novamente por partes:</p><ul><li><p>Primeiro utilizei a diretiva <strong>ng-repeat</strong> que nada mais é que um <strong>loop</strong> utilizando como base nosso array de tasks, ele implementa a mesma sintaxe que utilizando no <strong>for in</strong> no JS, então o que estamos fazendo é um loop em nosos array <code class="highlighter-rouge">todoList</code> e informando que para cada item queremos utilizar a variavel <code class="highlighter-rouge">task</code> no contexto do loop. Mas o que é contexto nesse caso? O contexto é o dominio da diretiva <strong>ng-repeat</strong>, por isso utilizamos na tag <code class="highlighter-rouge">&lt;li&gt;</code>, criando o contexto naquele elemento repetindo-o para cada item em nosso array de tasks;</p></li><li><p>Depois disso, você deve ter percebido a diretiva <strong>ng-class</strong>, que nesse caso adiciona a classe <strong>completed</strong> na nossa tag caso a condição seja verdadeira, nesse caso, caso <code class="highlighter-rouge">task.completed</code> seja <strong>true</strong> ou contenha algum valor. Veja também que estamos utilizando o contexto do item <code class="highlighter-rouge">task</code> nesse caso, que vai se repetir para cada item do nosso array.</p></li><li><p>Também utilizando o mesmo contexto em nosso loop, utilizamos a diretiva <strong>ng-model</strong> em nosso checkbox que nesse caso marcado é <strong>true</strong> e do contrário <strong>false</strong>. Além disso também utilizamos uma <strong>expression</strong> no contexto <code class="highlighter-rouge">task.name</code> do item.</p></li></ul><p>Com isso já temos o comportamento básico da nossa lista, só faltando implementar a função delete:</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Código omitido --&gt;</span>
<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-block btn-danger"</span> <span class="na">ng-click=</span><span class="s">"deleteTasks()"</span><span class="nt">&gt;</span>Delete Completed Tasks<span class="nt">&lt;/button&gt;</span>
<span class="c">&lt;!-- Código omitido --&gt;</span></code></pre></figure><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Código omitido</span>
<span class="nx">$scope</span><span class="p">.</span><span class="nx">deleteTasks</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">newList</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">todoList</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">item</span><span class="p">.</span><span class="nx">completed</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">newList</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">});</span>

  <span class="nx">$scope</span><span class="p">.</span><span class="nx">todoList</span> <span class="o">=</span> <span class="nx">newList</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// Código omitido</span></code></pre></figure><p>Além de atribuir o método <code class="highlighter-rouge">deleteTasks</code> ao evento de click do botão, fiz um <strong>forEach</strong> em nosso array e atribui a variável <code class="highlighter-rouge">newList</code> apenas os items que ainda não foram completados e por fim retornei a mesma variável. Sim, é um código extremamente simples, e a ideia é justamente essa.</p><h2 id="bônus-validando-nosso-formulário">Bônus: Validando nosso Formulário</h2><p>Apenas para fecharmos esse overview sobre Angular.js, vamos fazer uma validação simples em nosso formulário de forma que não queremos habilitar o botão para adicionar novas tasks se os critérios não forem válidos, nesse caso vamos apenas continuar utilizando o validador do HTML5 com o atributo <code class="highlighter-rouge">required</code> que colocamos em nosso input:</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Código omitido --&gt;</span>
<span class="nt">&lt;form</span> <span class="na">class=</span><span class="s">"add-form"</span> <span class="na">name=</span><span class="s">"todoForm"</span> <span class="na">ng-submit=</span><span class="s">"addItem()"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label&gt;</span>What you want todo?<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"task"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">ng-model=</span><span class="s">"task.name"</span> <span class="na">placeholder=</span><span class="s">"Put something..."</span> <span class="na">required=</span><span class="s">"required"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;br/&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-block btn-success"</span> <span class="na">ng-disabled=</span><span class="s">"todoForm.$invalid"</span><span class="nt">&gt;</span>Add Task<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/form&gt;</span>
<span class="c">&lt;!-- Código omitido --&gt;</span></code></pre></figure><p>Podemos ver mais uma nova diretiva, a <strong>ng-disabled</strong> que seta nosso botão como desabilitado e também travando o action de submit padrão do formulário. Fizemos isso utilizando o atributo <strong>name</strong> em nosso formulário e utilizando isso com o verificador <strong>$invalid</strong> que varre nosso formulário procurando por impedimentos ou critérios não satisfeitos como por exemplo a propriedade <code class="highlighter-rouge">required</code> em nosso input. Simples não? Também é possível por exemplo criar um método em nosso controller que cheque as condições baseadas em nosso model <strong>task</strong> como por exemplo se ele tem mais de “x” caracteres, etc.</p><p>Espero que vocês tenham gostado, e deixo também um <strong><a href="http://jsfiddle.net/awghg64o/">demo</a></strong> que fiz implementando uma barra de progresso bem simples utilizando o próprio componente do bootstrap. Pensem a respeito, Angular é muito mais que isso! Deixei N tópicos de fora, principalmente <strong>rotas</strong>, <strong>vies</strong>, <strong>Ajax</strong> e como <strong>criar nossas próprias diretivas</strong> que provavelmente são a parte mais legal do framework. Agora você já sabe o básico do framework, sei que a explicação não foi das melhores, mas o objetivo era dar o incentivo ao leitor para buscar conhecimento sobre o framework, acreditem isso foi o básico do básico comparado ao potencial do framework.</p></div><section class="share"><h3>Share this post</h3><ul class="social-list"><li class="social-list__item facebook hint--bottom" data-hint="Share on Facebook"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://rafaell-lycan.com/2014/comecando-com-angular-js/" target="share"> <span class="social-list__text">Like</span> </a></li><li class="social-list__item twitter hint--bottom" data-hint="Share on Twitter"> <a href="https://twitter.com/share?text=Começando com Angular.JS&amp;url=https://rafaell-lycan.com/2014/comecando-com-angular-js/" target="share"> <span class="social-list__text">Tweet</span> </a></li><li class="social-list__item gplus hint--bottom" data-hint="Share on Google Plus"> <a href="https://plus.google.com/share?url=https://rafaell-lycan.com/2014/comecando-com-angular-js/" target="share"> <span class="social-list__text">+1</span> </a></li></ul></section><section class="related"><h3 class="related__title">Referências</h3><ul class="default-list"><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://docs.angularjs.org/tutorial" title="PhoneCat Tutorial App" target="_blank"> <span itemprop="name">PhoneCat Tutorial App</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://www.codeschool.com/courses/shaping-up-with-angular-js" title="Shaping up with Angular.js - CodeSchool" target="_blank"> <span itemprop="name">Shaping up with Angular.js - CodeSchool</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://code.tutsplus.com/tutorials/5-awesome-angularjs-features--net-25651" title="5 Awesome AngularJS Features - Tuts+" target="_blank"> <span itemprop="name">5 Awesome AngularJS Features - Tuts+</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://www.youtube.com/watch?v=i9MHigUZKEM" title="AngularJS Fundamentals In 60-ish Minutes - Youtube" target="_blank"> <span itemprop="name">AngularJS Fundamentals In 60-ish Minutes - Youtube</span> </a></li><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://www.youtube.com/watch?v=iCQ3qic_nGg" title="Introdução ao AngularJS - Youtube" target="_blank"> <span itemprop="name">Introdução ao AngularJS - Youtube</span> </a></li></ul></section><div class="comments"><div id="disqus_thread"></div></div><script> if (window.location.hostname !== 'localhost') { var disqus_shortname = 'rafaelllycan'; var disqus_identifier = '/2014/comecando-com-angular-js'; var disqus_config = function () { this.page.url = 'https://rafaell-lycan.com/2014/comecando-com-angular-js/'; this.page.identifier = '/2014/comecando-com-angular-js'; }; (function() { var d = document, s = d.createElement('script'); s.src = '//' + disqus_shortname + '.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); s.async = true; (d.head || d.body).appendChild(s); })(); } </script></article><footer class="footer"><p> Made with <a href="https://jekyllrb.com/" target="_blank" class=" externalLink">Jekyll</a> and <span class="love">♥</span> by Rafaell Lycan.</p></footer></main><script async src="/assets/js/main.min.js"></script>  <script> !function(v,i,n,k,l,a){v.GoogleAnalyticsObject=n;v[n]||(v[n]=function(){ (v[n].q=v[n].q||[]).push(arguments)});v[n].l=+new Date;l=i.createElement(k); a=i.getElementsByTagName(k)[0];l.src='https://google-analytics.com/analytics.js'; a.parentNode.insertBefore(l,a)}(window,document,'ga','script'); ga('create', 'UA-16383035-5', 'auto'); ga('require', 'displayfeatures'); ga('send', 'pageview'); </script></body></html>
